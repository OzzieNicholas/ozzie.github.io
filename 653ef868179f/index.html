<!DOCTYPE html>
<html lang="en">
  <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/4.3.1'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <link rel="preload" href="/css/first.css" as="style">
  

  <!-- 页面元数据 -->
  
  <title>NumPy（超详细） - Ozzie | Nicholas</title>
  
    <meta name="keywords" content="Python">
  

  

  <!-- feed -->
  

  <!-- import meta -->
  

  <!-- link -->
  
    <link rel="shortcut icon" type='image/x-icon' href="https://avatars.githubusercontent.com/u/49378661?s=460&u=48820ed6b04ef7690959e325cd670dcd67efa5a5&v=4">
  

  <!-- import link -->
  

  
    
<link rel="stylesheet" href="/css/first.css">

  

  
  <link rel="stylesheet" href="/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/css/style.css"></noscript>
  

  <script id="loadcss"></script>

  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        '<h1><b>抱歉，您的浏览器无法访问本站</b></h1>'+
        '<h3>微软已经于2016年终止了对 Internet Explorer (IE) 10 及更早版本的支持，<br/>'+
        '继续使用存在极大的安全隐患，请使用当代主流的浏览器进行访问。</h3><br/>'+
        '<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/WindowsForBusiness/End-of-IE-support"><strong>了解详情 ></strong></a>'+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
	</style>
    <div class="kill-noscript">
        <h1><b>抱歉，您的浏览器无法访问本站</b></h1>
        <h3>本页面需要浏览器支持（启用）JavaScript</h3><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>了解详情 ></strong></a>
    </div>
</noscript>

</head>

  <body>
    

<header id="l_header" class="l_header auto shadow blur " style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
            <img no-lazy class='logo' src='https://avatars.githubusercontent.com/u/49378661?s=460&u=48820ed6b04ef7690959e325cd670dcd67efa5a5&v=4'/>
          
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>首页
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fas fa-ellipsis-v fa-fw'></i>更多
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://volantis.js.org/v4/getting-started/
                  
                  
                  
                    id="https:volantisjsorgv4getting-started"
                  >
                  主题文档
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://github.com/volantis-x/hexo-theme-volantis/
                  
                  
                  
                    id="https:githubcomvolantis-xhexo-theme-volantis"
                  >
                  主题源码
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>首页
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fas fa-ellipsis-v fa-fw'></i>更多
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://volantis.js.org/v4/getting-started/
                  
                  
                  
                    id="https:volantisjsorgv4getting-started"
                  >
                  主题文档
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://github.com/volantis-x/hexo-theme-volantis/
                  
                  
                  
                    id="https:githubcomvolantis-xhexo-theme-volantis"
                  >
                  主题源码
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
        <div id="half" class='cover-wrapper post dock' style="display: ;">
          
            <div id='cover-backstretch'></div>
          
          <div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">Ozzie | Nicholas</p>
    
    
      <p class="subtitle">If not now, when?   If not me, who?</p>
    
  </div>
  <div class='bottom'>
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="/"
              
              
              id="home">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f5c3.svg'><p>首页</p>
            </a>
          
            <a href="/categories/"
              
              
              id="categories">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f516.svg'><p>分类</p>
            </a>
          
            <a href="/tags/"
              
              
              id="tags">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f396.svg'><p>标签</p>
            </a>
          
            <a href="/archives/"
              
              
              id="archives">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f389.svg'><p>归档</p>
            </a>
          
            <a href="/friends/"
              
              
              id="friends">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4f0.svg'><p>友链</p>
            </a>
          
            <a href="/about/"
              
              
              id="about">
              <img src='https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f9ec.svg'><p>关于</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

          <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
        </div>
    
  
  </div>

      <div id="safearea">
        <div class="body-wrapper" id="pjax-container">
          

<div class='l_main'>
  <article class="article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost">
  


  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title">
        NumPy（超详细）
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author'>
  <a class='author' href="/" rel="nofollow">
    <img no-lazy src="https://avatars.githubusercontent.com/u/49378661?s=460&u=48820ed6b04ef7690959e325cd670dcd67efa5a5&v=4">
    <p>Ozzie</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="/categories/Python/">Python</a>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：Jun 4, 2021</p>
  </a>
</div>

          
        
          
        
      </div>
    
  </div>


  
  
  <h2 id="NumPy-初识"><a href="#NumPy-初识" class="headerlink" title="NumPy 初识"></a>NumPy 初识</h2><h3 id="NumPy-简介"><a href="#NumPy-简介" class="headerlink" title="NumPy 简介"></a>NumPy 简介</h3><ol>
<li>NumPy(Numerical Python) 是 Python 语言的一个扩展程序库，支持大量的维度数组与矩阵运算，同时对数组运算提供了大量的数学函数库。</li>
<li>Numpy 是一个运行速度非常快的数学库，内部解除了CPython的GIL（全局解释器锁），运行效率极好，主要用于数组计算，是大量机器学习框架的基础库，NumPy主要包括如下：<ul>
<li>强大的N维数组对象 ndarray</li>
<li>广播功能函数</li>
<li>整合 C/C++/Fortran 代码的工具</li>
<li>线性代数、傅里叶变换、随机数生成等功能。</li>
</ul>
</li>
<li>NumPy 通常与 SciPy（Scientific Python）和 Matplotlib（绘图库）组合使用，用于替代 MatLab。</li>
</ol>
<h3 id="NumPy的优缺点"><a href="#NumPy的优缺点" class="headerlink" title="NumPy的优缺点"></a>NumPy的优缺点</h3><ol>
<li>NumPy优点如下：<ul>
<li>对于同样的数值计算任务，使用NumPy要比直接编写Python代码便捷得多。</li>
<li>NumPy中的数组的存储效率和输入输出性能均远远优于Python中等价的基本数据结构，且其能够提升的性能是与数组中的元素成比例的。</li>
<li>NumPy的大部分代码都是用C语言写的，其底层算法在设计时就有着优异的性能，这使得NumPy比纯Python代码高效得多</li>
</ul>
</li>
<li>NumPy缺点如下：<ul>
<li>由于NumPy使用内存映射文件以达到最优的数据读写性能，而内存的大小限制了其对TB级大文件的处理；</li>
<li>NumPy数组的通用性不及Python提供的list容器。</li>
</ul>
</li>
</ol>
<h3 id="NumPy-安装"><a href="#NumPy-安装" class="headerlink" title="NumPy 安装"></a>NumPy 安装</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --user numpy</span><br></pre></td></tr></table></figure>

<p>–user 选项可以设置只安装在当前的用户下，而不是写入到系统目录。</p>
<h3 id="NumPy-数据类型"><a href="#NumPy-数据类型" class="headerlink" title="NumPy 数据类型"></a>NumPy 数据类型</h3><ol>
<li>numpy支持的数据类型比 Python 内置的类型要多，基本上可以和 C 语言的数据类型对应上，其中部分类型对应为 Python 内置的类型。<ul>
<li><code>bool_</code>：布尔型数据类型（True 或者 False）</li>
<li><code>int_</code>：默认的整数类型（类似于 C 语言中的 long，int32 或 int64）</li>
<li><code>intc</code>：与 C 的 int 类型一样，一般是 int32 或 int 64</li>
<li><code>intp</code>：用于索引的整数类型（类似于 C 的 ssize*t，通常是int32或 int64）</li>
<li><code>int8</code>：字节（-128 to 127）</li>
<li><code>int16</code>：整数（-32768 to 32767）</li>
<li><code>int32</code>：整数（-2147483648 to 2147483647）</li>
<li><code>int64</code>：整数（64bit）</li>
<li><code>uint8</code>：无符号整数（0 to 255）</li>
<li><code>uint16</code>：无符号整数（0 to 65535）</li>
<li><code>uint32</code>：无符号整数（0 to 4294967295）</li>
<li><code>uint64</code>：无符号整数（0 to 18446744073709551615）</li>
<li><code>float</code>：<ul>
<li><code>float64</code>：类型的简写float16 半精度浮点数，包括：1 个符号位，5 个指数位，10 个尾数位</li>
<li><code>float64</code>：单精度浮点数，包括：1 个符号位，8 个指数位，23 个尾数位</li>
<li><code>float64</code>：双精度浮点数，包括：1 个符号位，11 个指数位，52 个尾数位</li>
</ul>
</li>
<li><code>complex_</code>：complex128 类型的简写，即 128 位复数：<ul>
<li><code>complex64</code>：复数，表示双 32 位浮点数（实数部分和虚数部分）</li>
<li><code>complex128</code>：复数，表示双 64 位浮点数（实数部分和虚数部分）</li>
</ul>
</li>
</ul>
</li>
<li>每个内建类型都有一个唯一定义它的字符代码：<ul>
<li><code>b</code>：布尔类型</li>
<li><code>i</code>：有符号整型</li>
<li><code>u</code>：无符号整型</li>
<li><code>f</code>：浮点型</li>
<li><code>c</code>：复数浮点型</li>
<li><code>m</code>：时间间隔</li>
<li><code>M</code>：日期间隔</li>
<li><code>O</code>：Python对象</li>
<li><code>S</code>：字符串</li>
<li><code>U</code>：Unicode</li>
<li><code>V</code>：原始数据（void）</li>
</ul>
</li>
</ol>
<h3 id="dtype-数据类型对象"><a href="#dtype-数据类型对象" class="headerlink" title="dtype 数据类型对象"></a>dtype 数据类型对象</h3><ol>
<li><p>数据类型对象dtype用于描述与数组对应的内存区域如何使用，依赖如下几个方面：</p>
<ul>
<li>数据的类型（整数，浮点数或者 Python 对象）</li>
<li>数据的大小（例如， 整数使用多少个字节存储）</li>
<li>数据的字节顺序（小端法或大端法）</li>
</ul>
</li>
<li><p>在结构化类型的情况下，字段的名称、每个字段的数据类型和每个字段所取的内存块的部分,如果数据类型是子数组，它的形状和数据类型。</p>
</li>
<li><p>字节顺序是通过对数据类型预先设定”&lt;”或”&gt;”来决定的。”&lt;”意味着小端法(最小值存储在最小的地址，即低位组放在最前面)。”&gt;”意味着大端法(最重要的字节存储在最小的地址，即高位组放在最前面)。</p>
</li>
<li><p>dtype 对象是使用以下语法构造的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numpy.dtype(<span class="built_in">object</span>, align, copy)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>object - 要转换为的数据类型对象</p>
</li>
<li><p>align - 如果为 true，填充字段使其类似 C 的结构体。</p>
</li>
<li><p>copy - 复制 dtype 对象 ，如果为 false，则是对内置数据类型对象的引用</p>
</li>
<li><p>一个结构化数据类型 student，包含字符串字段 name，整数字段 age，及浮点字段 score，并将 dtype 应用到 ndarray 对象。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    student = numpy.dtype([(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;S20&quot;</span>), (<span class="string">&quot;age&quot;</span>, numpy.int8), (<span class="string">&quot;marks&quot;</span>, <span class="string">&quot;&lt;f4&quot;</span>)])</span><br><span class="line">    student_array = numpy.array([(<span class="string">&quot;Bauer&quot;</span>, <span class="number">22</span>, <span class="number">88</span>), (<span class="string">&quot;Jack&quot;</span>, <span class="number">21</span>, <span class="number">90</span>), (<span class="string">&quot;Alex&quot;</span>, <span class="number">78</span>, <span class="number">22</span>)], dtype=student)</span><br><span class="line">    print(student_array)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [(b&#x27;Bauer&#x27;, 22, 88.) (b&#x27;Jack&#x27;, 21, 90.) (b&#x27;Alex&#x27;, 78, 22.)]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ndarray"><a href="#ndarray" class="headerlink" title="ndarray"></a>ndarray</h2><h3 id="ndarray简介"><a href="#ndarray简介" class="headerlink" title="ndarray简介"></a>ndarray简介</h3><ol>
<li>ndarray是NumPy的核心，ndarray封装了python原生的同数据类型的n维数组，通过正整数元组索引。</li>
<li>ndarray内部结构如下：<ul>
<li>一个指向数据（内存或内存映射文件中的一块数据）的指针。</li>
<li>数据类型（dtype），描述在数组中的固定大小值的格子。</li>
<li>一个表示数组形状（shape）的元组，表示各维度大小的元组。</li>
<li>一个跨度元组（stride），其中的整数指的是为了前进到当前维度下一个元素需要”跨过”的字节数。</li>
</ul>
</li>
<li>ndarray 和 标准 Python 列表的区别如下：<ul>
<li>ndarray 在创建时具有固定的大小， 更改ndarray的大小将创建一个新数组并删除原来的数组，与Python的原生数组对象（可以动态增长）不同。</li>
<li>ndarray 中的元素必须具有相同的数据类型，因此在内存中的大小相同。</li>
<li>ndarray 有助于对大量数据进行高级数学和其它类型的操作。 通常，这些操作的执行效率更高，比使用Python原生数组的代码更少。</li>
<li>大部分基于Python的科学和数学软件包都使用NumPy数组，尽管通常也支持Python原生数组作为参数，但在处理前仍然会将输入数组转换为NumPy数组，而且通常输出为NumPy数组。为了高效地使用当今基于Python的科学计算工具，需要知道如何使用NumPy数组。</li>
</ul>
</li>
</ol>
<h3 id="ndarray-对象的属性"><a href="#ndarray-对象的属性" class="headerlink" title="ndarray 对象的属性"></a>ndarray 对象的属性</h3><ol>
<li><p>ndarray 对象提供的关键属性如下：</p>
<ul>
<li>ndarray.ndim：数组的轴（维度）的个数，维度的数量被称为rank。</li>
<li>ndarray.shape：数组的维度，是一个整数的元组，表示每个维度中数组的大小。对于n行和m列的矩阵，shape是(n,m)。因此，shape元组的长度就是rank或维度的个数 ndim。</li>
<li>ndarray.size：数组元素的总数，等于shape的元素的乘积。</li>
<li>ndarray.dtype：描述数组中元素类型的对象。可以使用标准的Python类型创建或指定</li>
<li>dtype：NumPy提供自己的类型，如numpy.int32、numpy.int16和numpy.float64。</li>
<li>ndarray.itemsize：数组中每个元素的字节大小，等于 ndarray.dtype.itemsize。元素为 float64 类型的数组的 itemsize 为8（=64/8），而 complex32 类型的数组的 itemsize 为4（=32/8）。</li>
<li>ndarray.flags：ndarray对象的内存信息。</li>
<li>ndarray.real：ndarray元素的实部</li>
<li>ndarray.imag：ndarray 元素的虚部</li>
<li>ndarray.data：缓冲区包含数组的实际元素。</li>
<li>Ndarray.flags的内存信息属性如下：<ul>
<li>C_CONTIGUOUS (C)：数据是在一个单一的C风格的连续段中</li>
<li>F_CONTIGUOUS (F)：数据是在一个单一的Fortran风格的连续段中</li>
<li>OWNDATA (O)：数组拥有自己所使用的内存或从另一个对象中借用</li>
<li>WRITEABLE (W：)数据区域可以被写入，将值设置为 False，则数据为只读。</li>
<li>ALIGNED (A)：数据和所有元素都适当地对齐到硬件上</li>
<li>UPDATEIFCOPY (U)：数组是其它数组的一个副本，当数组被释放时，原数组的内容将被更新</li>
</ul>
</li>
</ul>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.arange(<span class="number">15</span>).reshape(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line">    print(a)</span><br><span class="line">    print(<span class="string">&quot;shape: &quot;</span>, a.shape)</span><br><span class="line">    print(<span class="string">&quot;ndim:&quot;</span>, a.ndim)</span><br><span class="line">    print(<span class="string">&quot;dtype:&quot;</span>, a.dtype.name)</span><br><span class="line">    print(<span class="string">&quot;itemsize: &quot;</span>, a.itemsize)</span><br><span class="line">    print(<span class="string">&quot;itemsize: &quot;</span>, a.dtype.itemsize)</span><br><span class="line">    print(<span class="string">&quot;size: &quot;</span>, a.size)</span><br><span class="line">    print(<span class="string">&quot;flags: &quot;</span>, a.flags)</span><br><span class="line">    print(<span class="string">&quot;data: &quot;</span>, a.data)</span><br><span class="line">    print(<span class="string">&quot;type:&quot;</span>, <span class="built_in">type</span>(a))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 0  1  2]</span></span><br><span class="line"><span class="comment">#  [ 3  4  5]</span></span><br><span class="line"><span class="comment">#  [ 6  7  8]</span></span><br><span class="line"><span class="comment">#  [ 9 10 11]</span></span><br><span class="line"><span class="comment">#  [12 13 14]]</span></span><br><span class="line"><span class="comment"># shape:  (5, 3)</span></span><br><span class="line"><span class="comment"># ndim: 2</span></span><br><span class="line"><span class="comment"># dtype: int64</span></span><br><span class="line"><span class="comment"># itemsize:  8</span></span><br><span class="line"><span class="comment"># itemsize:  8</span></span><br><span class="line"><span class="comment"># size:  15</span></span><br><span class="line"><span class="comment"># flags:    C_CONTIGUOUS : True</span></span><br><span class="line"><span class="comment">#   F_CONTIGUOUS : False</span></span><br><span class="line"><span class="comment">#   OWNDATA : False</span></span><br><span class="line"><span class="comment">#   WRITEABLE : True</span></span><br><span class="line"><span class="comment">#   ALIGNED : True</span></span><br><span class="line"><span class="comment">#   WRITEBACKIFCOPY : False</span></span><br><span class="line"><span class="comment">#   UPDATEIFCOPY : False</span></span><br><span class="line"><span class="comment"># data:  &lt;memory at 0x7f1b6fbf4b40&gt;</span></span><br><span class="line"><span class="comment"># type: &lt;class &#x27;numpy.ndarray&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><ol>
<li><p><code>numpy.empty(shape, dtype = float, order = &#39;C&#39;)</code></p>
<ul>
<li><p>numpy.empty 方法用来创建一个指定形状（shape）、数据类型（dtype）且未初始化的数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_empty = numpy.empty([<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    print(array_empty)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[6.92184835e-310 1.23016891e-316 6.92184893e-310]</span></span><br><span class="line"><span class="comment">#  [6.92184893e-310 1.45897537e-303 2.72466824e-311]]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.array(p_object, dtype=None, copy=True, order=&#39;K&#39;, subok=False, ndmin=0)</code>：创建数组，p_object为数组或序列，dtype为数组元素类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]], numpy.<span class="built_in">int</span>)</span><br><span class="line">    print(a)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.asarray(a, dtype = None, order = None)</code>：创建数组，a为数组或序列，dtype为数组元素类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_as = numpy.asarray([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br><span class="line">    print(array_as)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[1 2 3 4]</span></span><br><span class="line"><span class="comment">#  [5 6 7 8]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.frombuffer(buffer, dtype = float, count = -1, offset = 0)</code></p>
<ul>
<li><p>numpy.frombuffer 用于实现动态数组。</p>
</li>
<li><p>buffer 参数为人以对象，以流的形式读入转化成 ndarray 对象。buffer 是字符串的时候，Python3 默认 str 是 Unicode 类型，所以要转成 bytestring 在原 str 前加上 b。</p>
</li>
<li><p>dtype参数，数组的数据类型，可选。</p>
</li>
<li><p>count参数，读取的数据量，默认为-1，读取所有的数据。</p>
</li>
<li><p>offset参数，读取的起始位置，默认为0。</p>
</li>
<li><p>案例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># 使用 range 函数创建列表对象</span></span><br><span class="line">    l = <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">    it = <span class="built_in">iter</span>(l)</span><br><span class="line">    <span class="comment"># 使用迭代器创建 ndarray</span></span><br><span class="line">    x = numpy.fromiter(it, dtype=<span class="built_in">float</span>)</span><br><span class="line">    print(x)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.ones(shape, dtype=None, order=&#39;C&#39;)</code>：创建数值为1的数组，shape是数组的形状，dtype是数值类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_ones = numpy.ones((<span class="number">2</span>, <span class="number">3</span>), numpy.<span class="built_in">int</span>)</span><br><span class="line">    print(array_ones)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[1 1 1]</span></span><br><span class="line"><span class="comment">#  [1 1 1]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.zeros(shape, dtype=None, order=&#39;C&#39;)</code>：创建数值为0的数组，shape是数组的形状，dtype是数值类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_zeros = numpy.zeros((<span class="number">2</span>, <span class="number">3</span>), numpy.<span class="built_in">int</span>)</span><br><span class="line">    print(array_zeros)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[0 0 0]</span></span><br><span class="line"><span class="comment">#  [0 0 0]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.full(shape, fill_value, dtype=None, order=&#39;C&#39;)</code>：创建指定数值的数组，shape是数组的形状，fill_value是数值，dtype是数值类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_full = numpy.full((<span class="number">2</span>, <span class="number">3</span>), <span class="number">3.14</span>, numpy.<span class="built_in">float</span>)</span><br><span class="line">    print(array_full)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[3.14 3.14 3.14]</span></span><br><span class="line"><span class="comment">#  [3.14 3.14 3.14]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.eye(N, M=None, k=0, dtype=float, order=&#39;C&#39;)</code>：创建单位矩阵，N为行数，M为列数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_eye = numpy.eye(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    print(array_eye)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[1. 0. 0.]</span></span><br><span class="line"><span class="comment">#  [0. 1. 0.]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.diag(v, k=0)</code>：创建对角矩阵，v是主对角线数值，k是对角线元素，k = 0表示主对角线，k&gt;0的值选择在主对角线之上的对角线中的元素，<code>k&lt;0</code>的值选择在主对角线之下的对角线中的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_diag = numpy.diag([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], k=<span class="number">1</span>)</span><br><span class="line">    print(array_diag)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[0 1 0 0]</span></span><br><span class="line"><span class="comment">#  [0 0 2 0]</span></span><br><span class="line"><span class="comment">#  [0 0 0 3]</span></span><br><span class="line"><span class="comment">#  [0 0 0 0]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.random.rand(*dn)</code>：创建指定shape的数组，数值范围在0~1之间。dn是可变参数，接收多个参数用于指定数组的shape。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_rand = numpy.random.rand(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    print(array_rand)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[0.73299266 0.10939252 0.61875294]</span></span><br><span class="line"><span class="comment">#  [0.11556114 0.62150992 0.56455656]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.random.uniform(low=0.0, high=1.0, size=None)</code>：创建指定范围内的数值的数或数组，low为下限，high为上限，size为个数，可以为序列，用于指定数组的shape。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_uniform = numpy.random.uniform(<span class="number">3</span>, <span class="number">3.14</span>, (<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">    print(array_uniform)</span><br><span class="line">    print(numpy.random.uniform(<span class="number">0</span>, <span class="number">100</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[3.00724161 3.10009725 3.04795313]</span></span><br><span class="line"><span class="comment">#  [3.06319773 3.12678593 3.09834495]]</span></span><br><span class="line"><span class="comment"># [73.03084565 34.16123519 95.58874675]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.randint(low, high=None, size=None, dtype=&#39;l&#39;)</code>：创建指定范围内的数值的数或数组，low为下限，high为上限，size为个数，可以为序列，用于指定数组的shape。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_randint = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">3</span>), dtype=numpy.<span class="built_in">int</span>)</span><br><span class="line">    print(array_randint)</span><br><span class="line">    print(numpy.random.randint(<span class="number">0</span>, <span class="number">100</span>, <span class="number">3</span>, dtype=numpy.<span class="built_in">int</span>))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[6 2 8]</span></span><br><span class="line"><span class="comment">#  [1 4 8]]</span></span><br><span class="line"><span class="comment"># [60 16 25]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.arange(start=None, *args, **kwargs)</code>：创建一维数组，其中包含位于半开区间[start, stop)内并均匀分布的值，step表示步长。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_arange = numpy.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">3</span>)</span><br><span class="line">    print(array_arange)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [0 3 6 9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.arange(start=None, *args, **kwargs)</code>：创建一维数组，其中包含位于半开区间[start, stop)内并均匀分布的值，step表示步长。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_arange = numpy.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">3</span>)</span><br><span class="line">    print(array_arange)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [0 3 6 9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.linspace(start, stop, N)</code>：创建N个在闭区间[start, stop]内均匀分布的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_linspace = numpy.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">5</span>)</span><br><span class="line">    print(array_linspace)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [ 0.   2.5  5.   7.5 10. ]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.random.normal(loc=0.0, scale=1.0, size=None)</code>：创建给定均值loc、标准差scale、维度size的正态分布。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_normal = numpy.random.normal(loc=<span class="number">1.75</span>, scale=<span class="number">0.1</span>, size=[<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    print(array_normal)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[1.6629973  1.78608724 1.83688018]</span></span><br><span class="line"><span class="comment">#  [1.77781707 1.62255632 1.73506316]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="ndarray-索引"><a href="#ndarray-索引" class="headerlink" title="ndarray 索引"></a>ndarray 索引</h3><ol>
<li><p>ndarray对象的内容可以通过索引或切片来访问和修改，与 Python 中 list 的切片操作一样。</p>
</li>
<li><p>ndarray 数组可以基于 0 - n 的下标进行索引，切片对象可以通过内置的 slice 函数，并设置 start, stop 及 step 参数进行，从原数组中切割出一个新数组。</p>
</li>
<li><p><code>array[start : end:step]</code>：截取start到end的切片，间隔为step</p>
</li>
<li><p><code>array[start:]</code>：截取从start到结尾的切片</p>
</li>
<li><p><code>array[:end]</code>：截取从开始到end的切片</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_rand = numpy.arange(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">    print(array_rand)</span><br><span class="line">    print(array_rand[<span class="number">1</span>:<span class="number">7</span>:<span class="number">2</span>])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="comment"># [2 4 6]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ndarray数组可以通过整数数组进行索引，通常需要分别构造行索引和列索引的数组，通过行索引数组和列索引数组组合使用最终定位数组的索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_rand = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">5</span>, <span class="number">8</span>])</span><br><span class="line">    print(array_rand)</span><br><span class="line">    rows = numpy.array([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">3</span>, <span class="number">3</span>]])</span><br><span class="line">    cols = numpy.array([[<span class="number">0</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">2</span>]])</span><br><span class="line">    result = array_rand[rows, cols]</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[6 1 7 7 6 1 0 5]</span></span><br><span class="line"><span class="comment">#  [9 5 4 6 1 0 8 0]</span></span><br><span class="line"><span class="comment">#  [0 2 1 5 3 3 5 6]</span></span><br><span class="line"><span class="comment">#  [4 4 5 0 2 5 2 2]</span></span><br><span class="line"><span class="comment">#  [1 9 8 5 7 1 3 2]]</span></span><br><span class="line"><span class="comment"># [[6 7]</span></span><br><span class="line"><span class="comment">#  [4 5]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ndarray可以通过一个布尔数组来进行索，布尔索引通过布尔运算（如：比较运算符）来获取符合指定条件的元素的数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_rand = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">5</span>, <span class="number">8</span>])</span><br><span class="line">    print(array_rand)</span><br><span class="line">    result = array_rand[array_rand &gt; <span class="number">5</span>]</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[2 3 2 2 0 5 4 7]</span></span><br><span class="line"><span class="comment">#  [8 8 2 8 6 5 9 7]</span></span><br><span class="line"><span class="comment">#  [9 6 3 9 5 9 9 5]</span></span><br><span class="line"><span class="comment">#  [3 9 1 1 8 7 9 7]</span></span><br><span class="line"><span class="comment">#  [8 2 0 6 5 0 2 7]]</span></span><br><span class="line"><span class="comment"># [7 8 8 8 6 9 7 9 6 9 9 9 9 8 7 9 7 8 6 7]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="数组修改"><a href="#数组修改" class="headerlink" title="数组修改"></a>数组修改</h3><ol>
<li><p><code>numpy.ndarray.reshape(a, newshape, order=&#39;C&#39;)</code>：把指定的数组改变形状，但元素个数不变；有返回值，即不对原始多维数组进行修改。a是数组，newshape为新的shape。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    b = numpy.reshape(a, [<span class="number">2</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    c = b.reshape([<span class="number">1</span>, <span class="number">10</span>])</span><br><span class="line">    print(b)</span><br><span class="line">    print(c)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [2 7 0 7 3 0 3 2 5 2]</span></span><br><span class="line"><span class="comment"># [[2 7 0 7 3]</span></span><br><span class="line"><span class="comment">#  [0 3 2 5 2]]</span></span><br><span class="line"><span class="comment"># [[2 7 0 7 3]</span></span><br><span class="line"><span class="comment">#  [0 3 2 5 2]]</span></span><br><span class="line"><span class="comment"># [[2 7 0 7 3 0 3 2 5 2]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.ndarray.resize(a, new_shape)</code>：把指定的数组改变形状，但元素个数可变，不足补0。numpy.resize作为含磺素使用时，不会对原始数组进行修改，返回新的结果数组；array.resize作为方法使用时，无返回值，会对原始多维数组进行修改。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 不修改原始数组</span></span><br><span class="line">    b = numpy.resize(a, [<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    <span class="comment"># 修改原始数组</span></span><br><span class="line">    a.resize([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">    print(a)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [0 0 7 5 7 1 3 8 1 9]</span></span><br><span class="line"><span class="comment"># [0 0 7 5 7 1 3 8 1 9]</span></span><br><span class="line"><span class="comment"># [[0 0 7 5]</span></span><br><span class="line"><span class="comment">#  [7 1 3 8]</span></span><br><span class="line"><span class="comment">#  [1 9 0 0]]</span></span><br><span class="line"><span class="comment"># [[0 0 7 5]</span></span><br><span class="line"><span class="comment">#  [7 1 3 8]</span></span><br><span class="line"><span class="comment">#  [1 9 0 0]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h2 id="数组迭代"><a href="#数组迭代" class="headerlink" title="数组迭代"></a>数组迭代</h2><h3 id="迭代数组简介"><a href="#迭代数组简介" class="headerlink" title="迭代数组简介"></a>迭代数组简介</h3><p>NumPy 迭代器对象 numpy.nditer 提供了一种灵活访问一个或者多个数组元素的方式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.arange(<span class="number">0</span>, <span class="number">12</span>).reshape([<span class="number">2</span>, <span class="number">6</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    it = numpy.nditer(a)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> it:</span><br><span class="line">        print(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> numpy.nditer(a.T.copy(order=<span class="string">&#x27;C&#x27;</span>)):</span><br><span class="line">        print(x, end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3  4  5]</span></span><br><span class="line"><span class="comment">#  [ 6  7  8  9 10 11]]</span></span><br><span class="line"><span class="comment"># 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 0, 6, 1, 7, 2, 8, 3, 9, 4, 10, 5, 11,</span></span><br></pre></td></tr></table></figure>

<h3 id="遍历顺序控制"><a href="#遍历顺序控制" class="headerlink" title="遍历顺序控制"></a>遍历顺序控制</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> numpy.nditer(arr, order=<span class="string">&#x27;F&#x27;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> numpy.nditer(arr.T, order=<span class="string">&#x27;C&#x27;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<ul>
<li>order=’F’，表示Fortran order，即列序优先；</li>
<li>order=’C’，表示C order，即行序优先。</li>
</ul>
<h3 id="遍历修改数组元素值"><a href="#遍历修改数组元素值" class="headerlink" title="遍历修改数组元素值"></a>遍历修改数组元素值</h3><p>nditer 对象有一个可选参数 op_flags。 默认情况下，nditer将视待迭代遍历的数组为只读对象（read-only），为了在遍历数组的同时，实现对数组元素值得修改，必须指定 read-write 或者 write-only 的模式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.arange(<span class="number">0</span>, <span class="number">12</span>).reshape([<span class="number">2</span>, <span class="number">6</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    it = numpy.nditer(a, op_flags=[<span class="string">&quot;readwrite&quot;</span>])</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> it:</span><br><span class="line">        x[...] = x**<span class="number">2</span></span><br><span class="line">    print(a)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3  4  5]</span></span><br><span class="line"><span class="comment">#  [ 6  7  8  9 10 11]]</span></span><br><span class="line"><span class="comment"># [[  0   1   4   9  16  25]</span></span><br><span class="line"><span class="comment">#  [ 36  49  64  81 100 121]]</span></span><br></pre></td></tr></table></figure>

<h3 id="外部循环"><a href="#外部循环" class="headerlink" title="外部循环"></a>外部循环</h3><ol>
<li>nditer的构造器拥有flags参数，可以接受下列值：<ul>
<li>c_index：可以跟踪 C 顺序的索引</li>
<li>f_index：可以跟踪 Fortran 顺序的索引</li>
<li>multi-index：每次迭代可以跟踪一种索引类型</li>
<li>external_loop：给出的值是具有多个值的一维数组，而不是零维数组</li>
</ul>
</li>
</ol>
<h3 id="广播迭代"><a href="#广播迭代" class="headerlink" title="广播迭代"></a>广播迭代</h3><p>如果两个数组是可广播的，nditer 组合对象能够同时迭代。 假设数组 a 的维度为 3X4，数组 b 的维度为 1X4 ，则使用迭代器（数组 b 被广播到 a 的大小）如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.arange(<span class="number">0</span>, <span class="number">12</span>).reshape([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    b = [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]</span><br><span class="line">    it = numpy.nditer([a, b])</span><br><span class="line">    <span class="keyword">for</span> x, y <span class="keyword">in</span> it:</span><br><span class="line">        print(<span class="string">&quot;%d:%d&quot;</span> % (x, y), end=<span class="string">&quot;, &quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment">#  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment">#  [ 8  9 10 11]]</span></span><br><span class="line"><span class="comment"># 0:11, 1:12, 2:13, 3:14, 4:11, 5:12, 6:13, 7:14, 8:11, 9:12, 10:13, 11:14,</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="NumPy"><a href="#NumPy" class="headerlink" title="NumPy"></a>NumPy</h2><h3 id="条件运算"><a href="#条件运算" class="headerlink" title="条件运算"></a>条件运算</h3><p><code>numpy.where(condition, x=None, y=None)</code><br>三目运算，满足condition，为x；不满足condition，则为y。返回新的结果数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    print(a)</span><br><span class="line">    b = numpy.where(a &lt; <span class="number">5</span>, <span class="number">5</span>, <span class="number">0</span>)</span><br><span class="line">    print(b)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [8 9 6 5 3 2 9 7 3 4]</span></span><br><span class="line"><span class="comment"># [0 0 0 0 5 5 0 0 5 5]</span></span><br></pre></td></tr></table></figure>

<h3 id="统计函数"><a href="#统计函数" class="headerlink" title="统计函数"></a>统计函数</h3><ol>
<li><p><code>numpy.amax(a, axis=None, out=None, keepdims=np._NoValue, initial=np._NoValue)</code>：根据指定轴统计矩阵的最大值，axis=0统计矩阵中每一列的最大值，axis=1统计矩阵中每一行的最大值，默认统计矩阵中的最大值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">100</span>, [<span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 统计整个矩阵的最大值</span></span><br><span class="line">    result = numpy.amax(a)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一列的最大值</span></span><br><span class="line">    result = numpy.amax(a, axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一行的最大值</span></span><br><span class="line">    result = numpy.amax(a, axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[85 54 46 38 98]</span></span><br><span class="line"><span class="comment">#  [27 65 23 13 63]</span></span><br><span class="line"><span class="comment">#  [43 68 31 42 82]]</span></span><br><span class="line"><span class="comment"># 98</span></span><br><span class="line"><span class="comment"># [85 68 46 42 98]</span></span><br><span class="line"><span class="comment"># [98 65 82]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.amin(a, axis=None, out=None, keepdims=np._NoValue, initial=np._NoValue)</code>：根据指定轴统计矩阵的最小值，axis=0统计矩阵中每一列的最小值，axis=1统计矩阵中每一行的最小值，默认统计矩阵中的最小值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">100</span>, [<span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 统计整个矩阵的最小值</span></span><br><span class="line">    result = numpy.amin(a)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一列的最小值</span></span><br><span class="line">    result = numpy.amin(a, axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一行的最小值</span></span><br><span class="line">    result = numpy.amin(a, axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[74 95 64 18 99]</span></span><br><span class="line"><span class="comment">#  [24 61 36  2 65]</span></span><br><span class="line"><span class="comment">#  [66 68  9 19 19]]</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># [24 61  9  2 19]</span></span><br><span class="line"><span class="comment"># [18  2  9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.mean(a, axis=None, dtype=None, out=None, keepdims=np._NoValue)</code>：根据指定轴统计矩阵的平均值，axis=0统计矩阵中每一列的平均值，axis=1统计矩阵中每一行的平均值，默认统计矩阵中的平均值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">100</span>, [<span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 统计整个矩阵的平均值</span></span><br><span class="line">    result = numpy.mean(a)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一列的平均值</span></span><br><span class="line">    result = numpy.mean(a, axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一行的平均值</span></span><br><span class="line">    result = numpy.mean(a, axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[38 36 68 78 58]</span></span><br><span class="line"><span class="comment">#  [41 38 84 92 95]</span></span><br><span class="line"><span class="comment">#  [52 86 62 94 33]]</span></span><br><span class="line"><span class="comment"># 63.666666666666664</span></span><br><span class="line"><span class="comment"># [43.66666667 53.33333333 71.33333333 88.         62.        ]</span></span><br><span class="line"><span class="comment"># [55.6 70.  65.4]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.std(a, axis=None, dtype=None, out=None, ddof=0, keepdims=np._NoValue)</code>:根据指定轴统计矩阵的方差，axis=0统计矩阵中每一列的方差，axis=1统计矩阵中每一行的方差，默认统计矩阵中的方差。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">100</span>, [<span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 统计整个矩阵的方差</span></span><br><span class="line">    result = numpy.std(a)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一列的方差</span></span><br><span class="line">    result = numpy.std(a, axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一行的方差</span></span><br><span class="line">    result = numpy.std(a, axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[80 68 47 51  2]</span></span><br><span class="line"><span class="comment">#  [75 38 97 70 98]</span></span><br><span class="line"><span class="comment">#  [57 66 64 17 70]]</span></span><br><span class="line"><span class="comment"># 25.442746183015178</span></span><br><span class="line"><span class="comment"># [ 9.87702159 13.69509239 20.7578633  21.92411154 40.30991055]</span></span><br><span class="line"><span class="comment"># [26.59774427 21.9326241  19.36388391]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.sum(a, axis=None, dtype=None, out=None, keepdims=np._NoValue, initial=np._NoValue)</code>：根据指定轴统计矩阵的求和，axis=0统计矩阵中每一列的求和，axis=1统计矩阵中每一行的求和，默认统计矩阵中的求和。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">100</span>, [<span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 统计整个矩阵的求和</span></span><br><span class="line">    result = numpy.<span class="built_in">sum</span>(a)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一列的求和</span></span><br><span class="line">    result = numpy.<span class="built_in">sum</span>(a, axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 统计矩阵中每一行的求和</span></span><br><span class="line">    result = numpy.<span class="built_in">sum</span>(a, axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[87 16 90 96 83]</span></span><br><span class="line"><span class="comment">#  [23 96 52 76 39]</span></span><br><span class="line"><span class="comment">#  [46  5 55 91 66]]</span></span><br><span class="line"><span class="comment"># 921</span></span><br><span class="line"><span class="comment"># [156 117 197 263 188]</span></span><br><span class="line"><span class="comment"># [372 286 263]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.percentile(a, axis=None, out=None, keepdims=np._NoValue)</code>：计算数组中元素最大值与最小值的差（最大值 - 最小值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">numpy.percentile(a, q, axis=<span class="literal">None</span>, out=<span class="literal">None</span>,</span><br><span class="line">               overwrite_input=<span class="literal">False</span>, interpolation=<span class="string">&#x27;linear&#x27;</span>, keepdims=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>百分位数是统计中使用的度量，表示小于这个值的观察值的百分比。</li>
<li>参数a，输入数组</li>
<li>参数q，要计算的百分位数，在 0 ~ 100 之间</li>
<li>参数axis: 沿着计算百分位数的轴</li>
</ul>
</li>
<li><p><code>numpy.median(a, axis=None, out=None, overwrite_input=False, keepdims=False)</code>：用于计算数组 a 中元素的中位数（中值）</p>
</li>
<li><p><code>numpy.average(a, axis=None, weights=None, returned=False)</code>：根据各自的权重计算数组中元素的加权平均值。</p>
<ul>
<li><p>参数a，输入数组</p>
</li>
<li><p>参数axis，指定轴</p>
</li>
<li><p>weights：权重</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>])</span><br><span class="line">    print(numpy.average(a))</span><br><span class="line">    weight = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">    result = numpy.average(a, weights=weight)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.average(a, weights=weight, returned=<span class="literal">True</span>)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># 25.0</span></span><br><span class="line"><span class="comment"># 30.0</span></span><br><span class="line"><span class="comment"># (30.0, 10.0)</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="算术运算"><a href="#算术运算" class="headerlink" title="算术运算"></a>算术运算</h3><ol>
<li><p>数组与数的运算包括加、减、乘、除、取整、取模，可以使用函数也可以使用操作符。</p>
</li>
<li><p><code>numpy.add(x1, x2, *args, **kwargs)</code>：将x1和x2相加，并将结果返回。</p>
</li>
<li><p><code>numpy.subtract(x1, x2, *args, **kwargs)</code>：将x1和x2相减，并将结果返回。</p>
</li>
<li><p><code>numpy.multiply(x1, x2, *args, **kwargs)</code>：将x1和x2相乘，并将结果返回。</p>
</li>
<li><p><code>numpy.divide(x1, x2, *args, **kwargs)</code>：将x1和x2相除，并将结果返回。</p>
</li>
<li><p><code>numpy.mod(*args, **kwargs)</code>：计算输入数组中相应元素的相除后的余数</p>
</li>
<li><p><code>numpy.power(x1, x2, *args, **kwargs)</code>：将x1作为底数，计算x1的x2次幂。</p>
</li>
<li><p><code>numpy.reciprocal(x, *args, **kwargs)</code>：返回x的倒数。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    result = a + <span class="number">5</span></span><br><span class="line">    print(result)</span><br><span class="line">    result = a - <span class="number">5</span></span><br><span class="line">    print(result)</span><br><span class="line">    result = a * <span class="number">5</span></span><br><span class="line">    print(result)</span><br><span class="line">    result = a / <span class="number">5</span></span><br><span class="line">    print(result)</span><br><span class="line">    result = a // <span class="number">5</span></span><br><span class="line">    print(result)</span><br><span class="line">    result = a % <span class="number">5</span></span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[9 6 6 7 9]</span></span><br><span class="line"><span class="comment">#  [0 3 2 4 8]]</span></span><br><span class="line"><span class="comment"># [[14 11 11 12 14]</span></span><br><span class="line"><span class="comment">#  [ 5  8  7  9 13]]</span></span><br><span class="line"><span class="comment"># [[ 4  1  1  2  4]</span></span><br><span class="line"><span class="comment">#  [-5 -2 -3 -1  3]]</span></span><br><span class="line"><span class="comment"># [[45 30 30 35 45]</span></span><br><span class="line"><span class="comment">#  [ 0 15 10 20 40]]</span></span><br><span class="line"><span class="comment"># [[1.8 1.2 1.2 1.4 1.8]</span></span><br><span class="line"><span class="comment">#  [0.  0.6 0.4 0.8 1.6]]</span></span><br><span class="line"><span class="comment"># [[1 1 1 1 1]</span></span><br><span class="line"><span class="comment">#  [0 0 0 0 1]]</span></span><br><span class="line"><span class="comment"># [[4 1 1 2 4]</span></span><br><span class="line"><span class="comment">#  [0 3 2 4 3]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>数组间运算包括加、减、乘、除，但两个数组的shape必须一样。</p>
<ul>
<li><p><code>numpy.intersect1d(ar1, ar2, assume_unique=False, return_indices=False)</code>：查找两个数组中的相同元素。</p>
</li>
<li><p><code>numpy.setdiff1d(ar1, ar2, assume_unique=False)</code>：查找在数组a中不在数组b中的元素。</p>
</li>
<li><p><code>numpy.union1d(ar1, ar2)</code>：查找两个数组的并集元素</p>
</li>
<li><p>案例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">1</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">5</span>])</span><br><span class="line">    b = numpy.random.randint(<span class="number">1</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    result = a + b</span><br><span class="line">    print(result)</span><br><span class="line">    result = a - b</span><br><span class="line">    print(result)</span><br><span class="line">    result = a * b</span><br><span class="line">    print(result)</span><br><span class="line">    result = a / b</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 求交</span></span><br><span class="line">    result = numpy.intersect1d(a, b)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 求差</span></span><br><span class="line">    result = numpy.setdiff1d(a, b)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 求并</span></span><br><span class="line">    result = numpy.union1d(a, b)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[2 8 4 1 5]</span></span><br><span class="line"><span class="comment">#  [1 9 4 4 7]]</span></span><br><span class="line"><span class="comment"># [[9 2 4 7 3]</span></span><br><span class="line"><span class="comment">#  [7 7 3 2 1]]</span></span><br><span class="line"><span class="comment"># [[11 10  8  8  8]</span></span><br><span class="line"><span class="comment">#  [ 8 16  7  6  8]]</span></span><br><span class="line"><span class="comment"># [[-7  6  0 -6  2]</span></span><br><span class="line"><span class="comment">#  [-6  2  1  2  6]]</span></span><br><span class="line"><span class="comment"># [[18 16 16  7 15]</span></span><br><span class="line"><span class="comment">#  [ 7 63 12  8  7]]</span></span><br><span class="line"><span class="comment"># [[0.22222222 4.         1.         0.14285714 1.66666667]</span></span><br><span class="line"><span class="comment">#  [0.14285714 1.28571429 1.33333333 2.         7.        ]]</span></span><br><span class="line"><span class="comment"># [1 2 4 7 9]</span></span><br><span class="line"><span class="comment"># [5 8]</span></span><br><span class="line"><span class="comment"># [1 2 3 4 5 7 8 9]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h3><ol>
<li><p>广播(Broadcast)是 numpy 对不同shape的数组进行数值计算的方式， 对数组的算术运算通常在相应的元素上进行。</p>
</li>
<li><p>如果两个数组进行运算时必须要求shape相同，当运算中的 2 个数组的shape不同时，numpy 将自动触发广播机制。</p>
</li>
<li><p>广播机制的规则如下：</p>
<ul>
<li><p>让所有输入数组都向其中形状最长的数组看齐，形状中不足的部分都通过在前面加 1 补齐。</p>
</li>
<li><p>输出数组的形状是输入数组形状的各个维度上的最大值。</p>
</li>
<li><p>如果输入数组的某个维度和输出数组的对应维度的长度相同或者其长度为 1 时，这个数组能够用来计算，否则出错。</p>
</li>
<li><p>当输入数组的某个维度的长度为 1 时，沿着此维度运算时都用此维度上的第一组值。<br>如果条件不满足，抛出 “ValueError: frames are not aligned” 异常。</p>
</li>
<li><p>4x3 的二维数组与1x 3 的一维数组相加，等效于把一维数组 在二维上重复 4 次再运算。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                  [<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>],</span><br><span class="line">                  [<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>],</span><br><span class="line">                  [<span class="number">30</span>, <span class="number">30</span>, <span class="number">30</span>]])</span><br><span class="line">    b = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    result = a + b</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 1  2  3]</span></span><br><span class="line"><span class="comment">#  [11 12 13]</span></span><br><span class="line"><span class="comment">#  [21 22 23]</span></span><br><span class="line"><span class="comment">#  [31 32 33]]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="矩阵运算"><a href="#矩阵运算" class="headerlink" title="矩阵运算"></a>矩阵运算</h3><ol>
<li><p><code>numpy.dot(a, b, out=None)</code>：矩阵点乘，（M行，N列）*（N行，Z列）=（M行，Z列）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># 成绩，期末考试成绩和平常作业成绩组成</span></span><br><span class="line">    score = numpy.array([[<span class="number">100</span>, <span class="number">87</span>], [<span class="number">88</span>, <span class="number">87</span>], [<span class="number">78</span>, <span class="number">80</span>], [<span class="number">65</span>, <span class="number">89</span>]])</span><br><span class="line">    <span class="comment"># 权重因子，期末成绩占70%，平时作业成绩占30%</span></span><br><span class="line">    q = numpy.array([[<span class="number">0.7</span>], [<span class="number">0.3</span>]])</span><br><span class="line">    result = numpy.dot(score, q)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[96.1]</span></span><br><span class="line"><span class="comment">#  [87.7]</span></span><br><span class="line"><span class="comment">#  [78.6]</span></span><br><span class="line"><span class="comment">#  [72.2]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.vstack(tup)</code>：矩阵垂直拼接（两个矩阵列数必须相同，行数随意），参数tup为数组的元组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">3</span>, <span class="number">6</span>])</span><br><span class="line">    b = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">6</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    result = numpy.vstack((a, b))</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[2 5 7 6 2 8]</span></span><br><span class="line"><span class="comment">#  [1 7 2 2 0 0]</span></span><br><span class="line"><span class="comment">#  [1 1 5 8 3 4]]</span></span><br><span class="line"><span class="comment"># [[6 5 3 4 9 9]</span></span><br><span class="line"><span class="comment">#  [4 3 2 4 2 9]]</span></span><br><span class="line"><span class="comment"># [[2 5 7 6 2 8]</span></span><br><span class="line"><span class="comment">#  [1 7 2 2 0 0]</span></span><br><span class="line"><span class="comment">#  [1 1 5 8 3 4]</span></span><br><span class="line"><span class="comment">#  [6 5 3 4 9 9]</span></span><br><span class="line"><span class="comment">#  [4 3 2 4 2 9]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.hstack(tup)</code>：矩阵水平拼接（两个矩阵行数必须相同，列数随意），参数tup为数组的元组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    b = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">4</span>])</span><br><span class="line">    c = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">2</span>, <span class="number">5</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    print(c)</span><br><span class="line">    result = numpy.hstack((a, b, c))</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[5 4 2]</span></span><br><span class="line"><span class="comment">#  [3 3 3]]</span></span><br><span class="line"><span class="comment"># [[7 0 7 7]</span></span><br><span class="line"><span class="comment">#  [3 5 0 2]]</span></span><br><span class="line"><span class="comment"># [[8 6 3 0 2]</span></span><br><span class="line"><span class="comment">#  [3 9 7 4 1]]</span></span><br><span class="line"><span class="comment"># [[5 4 2 7 0 7 7 8 6 3 0 2]</span></span><br><span class="line"><span class="comment">#  [3 3 3 3 5 0 2 3 9 7 4 1]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.delete(arr, obj, axis=None)</code>：矩阵删除，参数arr为数组；参数obj为要删除的对象；参数axis为轴，axis=0表示删除行，axis=1表示删除列，默认删除行和列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">10</span>, <span class="number">10</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    result = numpy.delete(a, [<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.delete(a, [<span class="number">0</span>, <span class="number">2</span>], axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.delete(a, [<span class="number">0</span>, <span class="number">2</span>], axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[8 0 7 2 1 6 8 9 5 5]</span></span><br><span class="line"><span class="comment">#  [6 3 1 6 5 5 5 6 1 8]</span></span><br><span class="line"><span class="comment">#  [2 0 8 5 0 2 4 7 6 3]</span></span><br><span class="line"><span class="comment">#  [8 8 3 9 3 1 9 6 4 2]</span></span><br><span class="line"><span class="comment">#  [2 1 5 1 2 9 9 5 9 9]</span></span><br><span class="line"><span class="comment">#  [2 2 8 1 5 8 6 7 2 9]</span></span><br><span class="line"><span class="comment">#  [9 6 2 7 6 0 1 5 1 8]</span></span><br><span class="line"><span class="comment">#  [7 9 8 7 8 6 8 5 1 6]</span></span><br><span class="line"><span class="comment">#  [1 9 6 9 4 1 7 7 0 9]</span></span><br><span class="line"><span class="comment">#  [7 1 8 8 7 1 0 2 7 2]]</span></span><br><span class="line"><span class="comment"># [0 2 1 6 8 9 5 5 6 3 1 6 5 5 5 6 1 8 2 0 8 5 0 2 4 7 6 3 8 8 3 9 3 1 9 6 4</span></span><br><span class="line"><span class="comment">#  2 2 1 5 1 2 9 9 5 9 9 2 2 8 1 5 8 6 7 2 9 9 6 2 7 6 0 1 5 1 8 7 9 8 7 8 6</span></span><br><span class="line"><span class="comment">#  8 5 1 6 1 9 6 9 4 1 7 7 0 9 7 1 8 8 7 1 0 2 7 2]</span></span><br><span class="line"><span class="comment"># [[6 3 1 6 5 5 5 6 1 8]</span></span><br><span class="line"><span class="comment">#  [8 8 3 9 3 1 9 6 4 2]</span></span><br><span class="line"><span class="comment">#  [2 1 5 1 2 9 9 5 9 9]</span></span><br><span class="line"><span class="comment">#  [2 2 8 1 5 8 6 7 2 9]</span></span><br><span class="line"><span class="comment">#  [9 6 2 7 6 0 1 5 1 8]</span></span><br><span class="line"><span class="comment">#  [7 9 8 7 8 6 8 5 1 6]</span></span><br><span class="line"><span class="comment">#  [1 9 6 9 4 1 7 7 0 9]</span></span><br><span class="line"><span class="comment">#  [7 1 8 8 7 1 0 2 7 2]]</span></span><br><span class="line"><span class="comment"># [[0 2 1 6 8 9 5 5]</span></span><br><span class="line"><span class="comment">#  [3 6 5 5 5 6 1 8]</span></span><br><span class="line"><span class="comment">#  [0 5 0 2 4 7 6 3]</span></span><br><span class="line"><span class="comment">#  [8 9 3 1 9 6 4 2]</span></span><br><span class="line"><span class="comment">#  [1 1 2 9 9 5 9 9]</span></span><br><span class="line"><span class="comment">#  [2 1 5 8 6 7 2 9]</span></span><br><span class="line"><span class="comment">#  [6 7 6 0 1 5 1 8]</span></span><br><span class="line"><span class="comment">#  [9 7 8 6 8 5 1 6]</span></span><br><span class="line"><span class="comment">#  [9 9 4 1 7 7 0 9]</span></span><br><span class="line"><span class="comment">#  [1 8 7 1 0 2 7 2]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.append(arr, values, axis=None)</code>：矩阵添加，参数arr为数组；参数values为要追加的对象；参数axis为轴，axis=0表示追加到行，axis=1表示追加到列，默认添加到所有数组元素的尾部。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">3</span>, <span class="number">8</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    result = numpy.append(a, [<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 追加一行</span></span><br><span class="line">    result = numpy.append(a, [[<span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>]], axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    <span class="comment"># 追加一列</span></span><br><span class="line">    result = numpy.append(a, [[<span class="number">9</span>], [<span class="number">9</span>], [<span class="number">9</span>]], axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[3 0 2 8 1 2 2 6]</span></span><br><span class="line"><span class="comment">#  [4 2 5 7 3 4 6 9]</span></span><br><span class="line"><span class="comment">#  [3 3 2 6 2 7 9 9]]</span></span><br><span class="line"><span class="comment"># [3 0 2 8 1 2 2 6 4 2 5 7 3 4 6 9 3 3 2 6 2 7 9 9 0 2 3]</span></span><br><span class="line"><span class="comment"># [[3 0 2 8 1 2 2 6]</span></span><br><span class="line"><span class="comment">#  [4 2 5 7 3 4 6 9]</span></span><br><span class="line"><span class="comment">#  [3 3 2 6 2 7 9 9]</span></span><br><span class="line"><span class="comment">#  [9 9 9 9 9 9 9 9]]</span></span><br><span class="line"><span class="comment"># [[3 0 2 8 1 2 2 6 9]</span></span><br><span class="line"><span class="comment">#  [4 2 5 7 3 4 6 9 9]</span></span><br><span class="line"><span class="comment">#  [3 3 2 6 2 7 9 9 9]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.insert(arr, obj, values, axis=None)</code>：矩阵插入，参数arr为数组，obj为插入位置索引，values为插入的值，参数axis为轴，axis=0表示插入到行，axis=1表示插入到列，默认插入到所有数组元素的序列的指定位置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, [<span class="number">3</span>, <span class="number">8</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    result = numpy.insert(a, <span class="number">0</span>, [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>])</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.insert(a, <span class="number">0</span>, [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>], axis=<span class="number">0</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.insert(a, <span class="number">0</span>, [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>], axis=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[5 0 0 8 9 8 5 8]</span></span><br><span class="line"><span class="comment">#  [3 0 2 3 5 1 4 2]</span></span><br><span class="line"><span class="comment">#  [4 2 4 0 6 5 6 1]]</span></span><br><span class="line"><span class="comment"># [11 12 13  5  0  0  8  9  8  5  8  3  0  2  3  5  1  4  2  4  2  4  0  6</span></span><br><span class="line"><span class="comment">#   5  6  1]</span></span><br><span class="line"><span class="comment"># [[11 12 13 14 15 16 17 18]</span></span><br><span class="line"><span class="comment">#  [ 5  0  0  8  9  8  5  8]</span></span><br><span class="line"><span class="comment">#  [ 3  0  2  3  5  1  4  2]</span></span><br><span class="line"><span class="comment">#  [ 4  2  4  0  6  5  6  1]]</span></span><br><span class="line"><span class="comment"># [[11  5  0  0  8  9  8  5  8]</span></span><br><span class="line"><span class="comment">#  [12  3  0  2  3  5  1  4  2]</span></span><br><span class="line"><span class="comment">#  [13  4  2  4  0  6  5  6  1]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><ol>
<li><p>bitwise_and对数组中整数的二进制形式执行位与运算。</p>
</li>
<li><p>bitwise_or对数组中整数的二进制形式执行位与运算。</p>
</li>
<li><p>invert对数组中整数进行位取反运算，即 0 变成 1，1 变成 0。</p>
</li>
<li><p>left_shift将数组元素的二进制形式向左移动到指定位置，右侧附加相等数量的 0。</p>
</li>
<li><p>right_shift将数组元素的二进制形式向右移动到指定位置，左侧附加相等数量的 0。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.arange(<span class="number">0</span>, <span class="number">12</span>).reshape([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    b = [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]</span><br><span class="line">    print(b)</span><br><span class="line">    result = numpy.bitwise_and(a, b)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.bitwise_or(a, b)</span><br><span class="line">    print(a)</span><br><span class="line">    result = numpy.invert(a)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.left_shift(a, <span class="number">2</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.right_shift(result, <span class="number">2</span>)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment">#  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment">#  [ 8  9 10 11]]</span></span><br><span class="line"><span class="comment"># [11, 12, 13, 14]</span></span><br><span class="line"><span class="comment"># [[ 0  0  0  2]</span></span><br><span class="line"><span class="comment">#  [ 0  4  4  6]</span></span><br><span class="line"><span class="comment">#  [ 8  8  8 10]]</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment">#  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment">#  [ 8  9 10 11]]</span></span><br><span class="line"><span class="comment"># [[ -1  -2  -3  -4]</span></span><br><span class="line"><span class="comment">#  [ -5  -6  -7  -8]</span></span><br><span class="line"><span class="comment">#  [ -9 -10 -11 -12]]</span></span><br><span class="line"><span class="comment"># [[ 0  4  8 12]</span></span><br><span class="line"><span class="comment">#  [16 20 24 28]</span></span><br><span class="line"><span class="comment">#  [32 36 40 44]]</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment">#  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment">#  [ 8  9 10 11]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h3><ol>
<li>NumPy中对字符串的处理基于 Python 内置库中的标准字符串函数，对dtype为 numpy.string <em>或 numpy.unicode</em> 的数组执行向量化字符串操作，相应函数在字符数组类（numpy.char）中定义。</li>
<li><code>numpy.char.add()</code>：依次对两个数组的元素进行字符串连接。</li>
<li><code>numpy.char.multiply()</code>：对数组的数值执行多次重度连接。</li>
<li><code>numpy.char.center()</code>：将数组的数值字符串居中，并使用指定字符在左侧和右侧进行填充。</li>
<li><code>numpy.char.capitalize()</code>：将数组数值字符串的第一个字母转换为大写：</li>
<li><code>numpy.char.title()</code>：将数组数值字符串的每个单词的第一个字母转换为大写：</li>
<li><code>numpy.char.lower()</code>：对数组的每个元素转换为小写，对每个元素调用 str.lower。</li>
<li><code>numpy.char.upper()</code>：对数组的每个元素转换为大写，对每个元素调用 str.upper。</li>
<li><code>numpy.char.split()</code>：通过指定分隔符对字符串进行分割，并返回数组。默认情况下，分隔符为空格。</li>
<li><code>numpy.char.splitlines()</code>：以换行符作为分隔符来分割字符串，并返回数组。</li>
<li><code>numpy.char.strip()</code>：用于移除开头或结尾处的特定字符。</li>
<li><code>numpy.char.join()</code>：通过指定分隔符来连接数组中的元素或字符串</li>
<li><code>numpy.char.replace()</code>：使用新字符串替换字符串中的所有子字符串。</li>
<li><code>numpy.char.encode()</code>：对数组中的每个元素调用 str.encode 函数。 默认编码是 utf-8，可以使用标准 Python 库中的编×××。</li>
<li><code>numpy.char.decode()</code>：对编码的元素进行 str.decode() 解码。</li>
</ol>
<h3 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h3><ol>
<li><p>NumPy 包含大量的各种数学运算的函数，包括三角函数，算术运算的函数，复数处理函数等。</p>
</li>
<li><p><code>numpy.sin(x, *args, **kwargs)</code>：计算x的正弦并返回，x为弧度值</p>
</li>
<li><p><code>numpy.arcsin(x, *args, **kwargs)</code>：计算x的反正弦并返回，返回为弧度值</p>
</li>
<li><p><code>numpy.cos(x, *args, **kwargs)</code>：计算x的余弦并返回，x为弧度值</p>
</li>
<li><p><code>numpy.arccos(x, *args, **kwargs)</code>：计算x的反余弦并返回，返回为弧度值</p>
</li>
<li><p><code>numpy.tan(x, *args, **kwargs)</code>：计算x的正切并返回，x为弧度值</p>
</li>
<li><p><code>numpy.arctan(x, *args, **kwargs)</code>：计算x的反正切并返回，返回为弧度值</p>
</li>
<li><p><code>numpy.degrees(x, *args, **kwargs)</code>：计算x的角度值并返回，x为弧度值</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    angles = numpy.array([<span class="number">0</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">90</span>, <span class="number">120</span>, <span class="number">150</span>, <span class="number">180</span>])</span><br><span class="line">    result = numpy.sin(angles * numpy.pi / <span class="number">180</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.arcsin(result)</span><br><span class="line">    print(numpy.degrees(result))</span><br><span class="line">    result = numpy.cos(angles * numpy.pi / <span class="number">180</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.arccos(result)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.tan(angles * numpy.pi / <span class="number">180</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.arctan(result)</span><br><span class="line">    print(result)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.around(a, decimals=0, out=None)</code>：返回指定数字的四舍五入值。</p>
<ul>
<li>参数a表示数值，可以为数组</li>
<li>参数decimals表示舍入的小数位数。 默认值为0。 如果为负，整数将四舍五入到小数点左侧的位置</li>
</ul>
</li>
<li><p><code>numpy.floor(x, *args, **kwargs)</code>：返回数值x的下舍整数</p>
</li>
<li><p><code>numpy.ceil(x, *args, **kwargs)</code>：返回数值x的上入整数。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.array([<span class="number">1.2</span>, <span class="number">3.14</span>, -<span class="number">2.5</span>, <span class="number">9.8</span>])</span><br><span class="line">    print(a)</span><br><span class="line">    result = numpy.around(a,decimals=<span class="number">1</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.floor(a)</span><br><span class="line">    print(result)</span><br><span class="line">    result = numpy.ceil(a)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [ 1.2   3.14 -2.5   9.8 ]</span></span><br><span class="line"><span class="comment"># [ 1.2  3.1 -2.5  9.8]</span></span><br><span class="line"><span class="comment"># [ 1.  3. -3.  9.]</span></span><br><span class="line"><span class="comment"># [ 2.  4. -2. 10.]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="排序过滤"><a href="#排序过滤" class="headerlink" title="排序过滤"></a>排序过滤</h3><ol>
<li><p><code>numpy.sort(a, axis=-1, kind=&#39;quicksort&#39;, order=None)</code></p>
<ul>
<li><p>参数a为要排序的数组</p>
</li>
<li><p>参数axis，沿着axis排序数组的轴，如果没有数组会被展开，沿着最后的轴排序， axis=0 按列排序，axis=1 按行排序。</p>
</li>
<li><p>参数kind，用于指定排序算法，’quicksort’（快速排序），’mergesort’（归并排序），’heapsort’（堆排序）。</p>
</li>
<li><p>order：如果数组包含字段，则是要排序的字段。</p>
</li>
<li><p>numpy.sort()作为函数使用时，不修改被排序的原始array；array.sort()作为方法使用时，会对原始array修改为排序后数组array。</p>
</li>
<li><p>NumPy 提供了多种排序的方法，不同的排序算法的特征在于执行速度，最坏情况性能，所需的工作空间和算法的稳定性。快速排序最坏效率<code>O(n^2)</code>，是不稳定排序算法，最快的排序算法；归并排序最坏效率为<code>O(n*log(n))</code>，是稳定的排序算法；堆排序最坏效率为<code>O(n*log(n))</code>，是不稳定排序算法。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    print(a)</span><br><span class="line">    <span class="comment"># 排序不会改变原始数组</span></span><br><span class="line">    b = numpy.sort(a)</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    <span class="comment"># 排序改变数组对象</span></span><br><span class="line">    a.sort()</span><br><span class="line">    print(a)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [3 9 4 7 3 7 9 0 6 3]</span></span><br><span class="line"><span class="comment"># [3 9 4 7 3 7 9 0 6 3]</span></span><br><span class="line"><span class="comment"># [0 3 3 3 4 6 7 7 9 9]</span></span><br><span class="line"><span class="comment"># [0 3 3 3 4 6 7 7 9 9]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.argsort(a, axis=-1, kind=&#39;quicksort&#39;, order=None)</code>：返回数组值从小到大的索引值。</p>
<ul>
<li>参数a为输入数组</li>
<li>参数axis，沿着axis排序数组的轴，如果没有数组会被展开，沿着最后的轴排序， axis=0 按列排序，axis=1 按行排序。</li>
<li>参数kind，用于指定排序算法，’quicksort’（快速排序），’mergesort’（归并排序），’heapsort’（堆排序）。</li>
<li>order: 如果数组包含字段，则是要排序的字段。</li>
</ul>
</li>
<li><p><code>numpy.lexsort(keys, axis=None)</code>：对多个序列进行排序,每一列代表一个序列，排序时优先照顾靠后的列。</p>
<ul>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    fruits = [<span class="string">&quot;banana&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;copper&quot;</span>]</span><br><span class="line">    dv = [<span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>,  <span class="string">&quot;b&quot;</span>]</span><br><span class="line">    index = numpy.lexsort((fruits, dv))</span><br><span class="line">    print(index)</span><br><span class="line">    result = [fruits[i] + <span class="string">&quot;, &quot;</span> + dv[i] <span class="keyword">for</span> i <span class="keyword">in</span> index]</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [1 2 0]</span></span><br><span class="line"><span class="comment"># [&#x27;apple, a&#x27;, &#x27;copper, b&#x27;, &#x27;banana, c&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.msort(a)</code>：按第一个轴对数组a进行排序，返回排序后的数组副本，相当于 numpy.sort(a, axis=0)</p>
</li>
<li><p><code>numpy.sort_complex(a)</code>：对复数按照先实部后虚部的顺序进行排序。</p>
</li>
<li><p><code>numpy.partition(a, kth, axis=-1, kind=&#39;introselect&#39;, order=None)</code>：指定一个数kth，对数组进行分区。小于kth的排在kth前面，大于kth的排在kth后面。</p>
</li>
<li><p><code>numpy.argpartition(a, kth, axis=-1, kind=&#39;introselect&#39;, order=None)</code>：可以通过关键字 kind 指定算法沿着指定轴对数组进行分区，并返回分区后的索引。</p>
<ul>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">9</span>]</span><br><span class="line">    print(x)</span><br><span class="line">    result = numpy.partition(x, <span class="number">5</span>)</span><br><span class="line">    print(result)</span><br><span class="line">    index = numpy.argpartition(x, <span class="number">3</span>)</span><br><span class="line">    print(index)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> index:</span><br><span class="line">        print(x[i], end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [1, 4, 6, 5, 8, 4, 9]</span></span><br><span class="line"><span class="comment"># [4 1 4 5 6 8 9]</span></span><br><span class="line"><span class="comment"># [1 0 5 3 4 2 6]</span></span><br><span class="line"><span class="comment"># 4 1 4 5 8 6 9</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.extract(condition, arr)</code>：根据某个条件从数组中抽取元素，返回满条件的元素</p>
<ul>
<li><p>参数condition用于指示数组元素是否被提取。</p>
</li>
<li><p>参数arr表示输入数组。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">    print(x)</span><br><span class="line">    condition = numpy.mod(x, <span class="number">2</span>) == <span class="number">0</span></span><br><span class="line">    print(condition)</span><br><span class="line">    result = numpy.extract(condition, x)</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[0 1 2]</span></span><br><span class="line"><span class="comment">#  [3 4 5]</span></span><br><span class="line"><span class="comment">#  [6 7 8]]</span></span><br><span class="line"><span class="comment"># [[ True False  True]</span></span><br><span class="line"><span class="comment">#  [False  True False]</span></span><br><span class="line"><span class="comment">#  [ True False  True]]</span></span><br><span class="line"><span class="comment"># [0 2 4 6 8]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.where(condition, x=None, y=None)</code>：返回输入数组中满足给定条件的元素的索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    print(x)</span><br><span class="line">    condition = numpy.where(x &gt; <span class="number">5</span>)</span><br><span class="line">    print(condition)</span><br><span class="line">    result = x[condition]</span><br><span class="line">    print(result)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [1 7 5 5 9 9 7 0 2 8]</span></span><br><span class="line"><span class="comment"># (array([1, 4, 5, 6, 9]),)</span></span><br><span class="line"><span class="comment"># [7 9 9 7 8]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.nonzero(a)</code>：返回输入数组中非零元素的索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    print(x)</span><br><span class="line">    y = numpy.nonzero(x)</span><br><span class="line">    print(y)</span><br><span class="line">    result = x[y]</span><br><span class="line">    print(result)</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [4 9 0 5 0 3 5 9 8 2]</span></span><br><span class="line"><span class="comment"># (array([0, 1, 3, 5, 6, 7, 8, 9]),)</span></span><br><span class="line"><span class="comment"># [4 9 5 3 5 9 8 2]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.argmax(a, axis=None, out=None)</code>：沿给定轴返回数组中最大元素的索引</p>
</li>
<li><p><code>numpy.argmin(a, axis=None, out=None)</code>：沿给定轴返回数组中最小元素的索引</p>
<ul>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.random.randint(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">    print(x)</span><br><span class="line">    y = numpy.argmax(x)</span><br><span class="line">    print(y)</span><br><span class="line">    result = x[y]</span><br><span class="line">    print(result)</span><br><span class="line">    print(numpy.<span class="built_in">max</span>(x))</span><br><span class="line"> </span><br><span class="line">    y = numpy.argmin(x)</span><br><span class="line">    print(y)</span><br><span class="line">    result = x[y]</span><br><span class="line">    print(result)</span><br><span class="line">    print(numpy.<span class="built_in">min</span>(x))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [3 4 7 3 6 9 4 3 4 4]</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># 9</span></span><br><span class="line"><span class="comment"># 9</span></span><br><span class="line"><span class="comment"># 0</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 3</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="字节交换"><a href="#字节交换" class="headerlink" title="字节交换"></a>字节交换</h3><ol>
<li><p>计算机中，多字节对象通常被存储为连续的字节序列。字节顺序是跨越多字节的程序对象的存储规则。</p>
</li>
<li><p>大端模式：数据的高字节保存在内存的低地址中，而数据的低字节保存在内存的高地址中，大端模式的地址由小向大增加，而数据从高位往低位放。</p>
</li>
<li><p>小端模式：数据的高字节保存在内存的高地址中，而数据的低字节保存在内存的低地址中，小端模式将地址的高低和数据位权有效地结合起来，高地址部分权值高，低地址部分权值低。</p>
</li>
<li><p><code>numpy.ndarray.byteswap(self, inplace=False)</code>：将 ndarray 中每个元素中的字节进行大小端转换。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], dtype=numpy.int16)</span><br><span class="line">    print(x)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> x:</span><br><span class="line">        print(<span class="built_in">hex</span>(i), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    result = x.byteswap(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">        print(<span class="built_in">hex</span>(i), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="comment"># 0x1 0x2 0x3 0x4 0x5 0x6 0x7 0x8 0x9 </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># 0x100 0x200 0x300 0x400 0x500 0x600 0x700 0x800 0x900 </span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="副本和视图"><a href="#副本和视图" class="headerlink" title="副本和视图"></a>副本和视图</h3><ol>
<li><p>副本是一个数据的完整的拷贝，如果对副本进行修改，不会影响到原始数据，物理内存不在同一位置。</p>
</li>
<li><p>视图是数据的引用，通过视图可访问、操作原有数据，但原有数据不会产生拷贝。如果对视图进行修改，会影响到原始数据，物理内存在同一位置。</p>
</li>
<li><p>在 Python 中，对象赋值本质是对象的引用。当创建一个对象，然后将其赋给另一个变量时，Python并没有拷贝对象，而只是拷贝对象的引用，称为浅拷贝。</p>
</li>
<li><p>在 Python中，当进行赋值操作时，为使两个变量互不影响，可以使用 copy 模块中的 deepcopy 方法，称为深拷贝。</p>
</li>
<li><p>通常，切片操作会返回原数据的视图，调用 ndarray 的 view() 函数会产生视图；切片操作中调用deepCopy()函数会产生副本，调用 ndarray 的 copy() 函数会产生副本。</p>
</li>
<li><p>简单的赋值不会创建数组对象的副本。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], dtype=numpy.int16)</span><br><span class="line">    y = x</span><br><span class="line">    print(<span class="built_in">id</span>(x))</span><br><span class="line">    print(<span class="built_in">id</span>(y))</span><br><span class="line"> </span><br><span class="line">    y.shape = [<span class="number">3</span>, <span class="number">3</span>]</span><br><span class="line">    print(x)</span><br><span class="line">    print(y)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># 140621988193024</span></span><br><span class="line"><span class="comment"># 140621988193024</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]</span></span><br><span class="line"><span class="comment">#  [7 8 9]]</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]</span></span><br><span class="line"><span class="comment">#  [7 8 9]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ndarray.view() 方会创建一个新的数组对象，view方法创建的新数组的维数更改不会更改原始数据的维数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], dtype=numpy.int16)</span><br><span class="line">    y = x.view()</span><br><span class="line">    print(<span class="built_in">id</span>(x))</span><br><span class="line">    print(<span class="built_in">id</span>(y))</span><br><span class="line">    y.shape = [<span class="number">3</span>, <span class="number">3</span>]</span><br><span class="line">    print(x)</span><br><span class="line">    print(y)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># 140025825882960</span></span><br><span class="line"><span class="comment"># 140025825245024</span></span><br><span class="line"><span class="comment"># [1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]</span></span><br><span class="line"><span class="comment">#  [7 8 9]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用切片创建视图修改数据会影响到原始数组，视图虽然指向原数据，但会创建新的对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], dtype=numpy.int16)</span><br><span class="line">    a = x[<span class="number">2</span>:]</span><br><span class="line">    b = x[<span class="number">5</span>:]</span><br><span class="line">    print(<span class="built_in">id</span>(x))</span><br><span class="line">    print(<span class="built_in">id</span>(a))</span><br><span class="line">    print(<span class="built_in">id</span>(b))</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    a[<span class="number">0</span>] = <span class="number">11</span></span><br><span class="line">    b[<span class="number">0</span>] = <span class="number">12</span></span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    print(x)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># 139764960379728</span></span><br><span class="line"><span class="comment"># 139764959741792</span></span><br><span class="line"><span class="comment"># 139764836999776</span></span><br><span class="line"><span class="comment"># [3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="comment"># [6 7 8 9]</span></span><br><span class="line"><span class="comment"># [11  4  5 12  7  8  9]</span></span><br><span class="line"><span class="comment"># [12  7  8  9]</span></span><br><span class="line"><span class="comment"># [ 1  2 11  4  5 12  7  8  9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ndarray.copy() 函数创建一个副本， 对副本数据进行修改，不会影响到原始数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    x = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], dtype=numpy.int16)</span><br><span class="line">    y = x.copy()</span><br><span class="line">    print(<span class="built_in">id</span>(x))</span><br><span class="line">    print(<span class="built_in">id</span>(y))</span><br><span class="line">    y[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">    print(x)</span><br><span class="line">    print(y)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># 139690155443024</span></span><br><span class="line"><span class="comment"># 139690154805088</span></span><br><span class="line"><span class="comment"># [1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="comment"># [10  2  3  4  5  6  7  8  9]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.copy(a, order=&#39;K&#39;)</code>：创建给定数组a的一个副本，可以作为数组的方法使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    array_normal = numpy.random.normal(loc=<span class="number">1.75</span>, scale=<span class="number">0.1</span>, size=[<span class="number">5</span>, <span class="number">5</span>])</span><br><span class="line">    print(array_normal)</span><br><span class="line">    b = array_normal[<span class="number">1</span>, <span class="number">2</span>].copy()</span><br><span class="line">    print(b)</span><br><span class="line">    <span class="comment"># 截取第1行至第3行（不包括第3行），第2列至第4列（不包括第4列）的数据</span></span><br><span class="line">    c = numpy.copy(array_normal[<span class="number">1</span>:<span class="number">3</span>, <span class="number">2</span>:<span class="number">4</span>])</span><br><span class="line">    print(c)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[1.71679806 1.85533715 1.74308905 1.75119872 1.79173827]</span></span><br><span class="line"><span class="comment">#  [1.65084866 1.8366689  1.72241261 1.71965308 1.58003833]</span></span><br><span class="line"><span class="comment">#  [1.86165973 1.84692966 1.73746162 1.81721825 1.75710235]</span></span><br><span class="line"><span class="comment">#  [1.95509949 1.90046488 1.71245928 2.00848233 1.73175004]</span></span><br><span class="line"><span class="comment">#  [1.64957638 1.80259583 1.84005861 1.85791674 1.825334  ]]</span></span><br><span class="line"><span class="comment">#  1.7224126132538562</span></span><br><span class="line"><span class="comment">#  [[1.72241261 1.71965308]</span></span><br><span class="line"><span class="comment">#  [1.73746162 1.81721825]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<h2 id="NumPy-matlib-矩阵模块"><a href="#NumPy-matlib-矩阵模块" class="headerlink" title="NumPy.matlib 矩阵模块"></a>NumPy.matlib 矩阵模块</h2><h3 id="matlib-模块简介"><a href="#matlib-模块简介" class="headerlink" title="matlib 模块简介"></a>matlib 模块简介</h3><ol>
<li>NumPy 中包含了一个矩阵库 numpy.matlib，numpy.matlib模块中的函数返回的是一个矩阵，而不是 ndarray 对象。</li>
<li>一个 mxn的矩阵是一个由m行（row)和n列（column）元素排列成的矩形阵列，矩阵里的元素可以是数字、符号或数学式。</li>
</ol>
<h3 id="矩阵创建"><a href="#矩阵创建" class="headerlink" title="矩阵创建"></a>矩阵创建</h3><ol>
<li><code>numpy.matlib.empty(shape, dtype, order)</code>：创建矩阵，填充随机数据。<ul>
<li>shape参数，定义新矩阵形状的整数或整数元组。</li>
<li>dtype参数，可选，数据类型。</li>
<li>order参数，可选项为C（行序优先） 或者 F（列序优先）。</li>
</ul>
</li>
<li>矩阵是二维的，而 ndarray 是一个 n 维数组。 矩阵与ndarray是可互换的。</li>
<li><code>numpy.matlib.zeros(shape, dtype=None, order=&#39;C&#39;)</code>：创建一个以 0 填充的矩阵。</li>
<li><code>numpy.matlib.ones(shape, dtype=None, order=&#39;C&#39;)</code>：创建一个以 1 填充的矩阵。</li>
<li><code>numpy.matlib.eye(n, M,k, dtype)</code>：numpy.matlib.eye() 函数返回一个矩阵，对角线元素为 1，其他位置为零。<ul>
<li>n：返回矩阵的行数</li>
<li>M：返回矩阵的列数，默认为 n</li>
<li>k：对角线的索引</li>
<li>dtype：数据类型</li>
</ul>
</li>
<li><code>numpy.matlib.identity(n,dtype=None)</code>：返回给定大小的单位矩阵。<ul>
<li>单位矩阵是个方阵，从左上角到右下角的对角线（称为主对角线）上的元素均为 1，除此以外全都为 0。</li>
</ul>
</li>
<li><code>numpy.matlib.rand(*args)</code>：创建一个给定大小的矩阵，数据是随机填充的。</li>
</ol>
<hr>
<h2 id="NumPy-linalg-线性代数模块"><a href="#NumPy-linalg-线性代数模块" class="headerlink" title="NumPy.linalg 线性代数模块"></a>NumPy.linalg 线性代数模块</h2><h3 id="linalg-线性代数模块"><a href="#linalg-线性代数模块" class="headerlink" title="linalg 线性代数模块"></a>linalg 线性代数模块</h3><p>NumPy 提供了线性代数函数库 linalg，linalg库包含了线性代数所需的所有功能。</p>
<h3 id="线性代数运算"><a href="#线性代数运算" class="headerlink" title="线性代数运算"></a>线性代数运算</h3><ol>
<li><code>numpy.dot(a, b, out=None)</code>：两个数组的点积，对应数组元素相乘。<ul>
<li>a : ndarray 数组</li>
<li>b : ndarray 数组</li>
<li>out : ndarray, 可选，用来保存dot()的计算结果</li>
</ul>
</li>
<li>对于两个一维的数组，计算的是两个数组对应下标元素的乘积和(数学上称为内积)；对于二维数组，计算的是两个数组的矩阵乘积；对于多维数组，通用计算公式如下，即结果数组中的每个元素都是：数组a的最后一维上的所有元素与数组b的倒数第二位上的所有元素的乘积和。</li>
<li><code>numpy.vdot(a, b)</code>：两个向量的点积。<ul>
<li>如果第一个参数是复数，那么其共轭复数会用于计算。 </li>
<li>如果参数是多维数组，会被展开。</li>
</ul>
</li>
<li><code>numpy.inner(a, b)</code>：返回一维数组的向量内积。对于更高的维度，返回最后一个轴上的和的乘积。</li>
<li><code>numpy.matmul(x1, x2, *args, **kwargs)</code>：返回两个数组的矩阵乘积，但如果任一参数的维数大于2，则将其视为存在于最后两个索引的矩阵的栈，并进行相应广播。另一方面，如果任一参数是一维数组，则通过在其维度上附加 1 来将其提升为矩阵，并在乘法后被去除。</li>
<li>对于二维数组，它就是矩阵乘法：<code>numpy.linalg.det(a)</code><ul>
<li>计算输入矩阵的行列式。</li>
<li>行列式在线性代数中是非常有用的值，从方阵的对角元素计算。 对于 2×2 矩阵，是左上和右下元素的乘积与其他两个的乘积的差。</li>
<li>对于矩阵[[a，b]，[c，d]]，行列式计算为 ad-bc。 较大的方阵被认为是 2×2 矩阵的组合。</li>
</ul>
</li>
<li><code>numpy.linalg.solve(a, b)</code>：求解线性矩阵方程。</li>
<li><code>numpy.linalg.inv(a)</code>：计算矩阵的乘法逆矩阵。</li>
<li>逆矩阵（inverse matrix）：设A是数域上的一个n阶矩阵，若在相同数域上存在另一个n阶矩阵B，使得： AB=BA=E ，则称B是A的逆矩阵，而A则被称为可逆矩阵，E为单位矩阵。</li>
</ol>
<hr>
<h2 id="NumPy-IO操作"><a href="#NumPy-IO操作" class="headerlink" title="NumPy IO操作"></a>NumPy IO操作</h2><ol>
<li><p>Numpy 可以读写磁盘上的文本数据或二进制数据。</p>
</li>
<li><p>NumPy 为 ndarray 对象引入了一个简单的文件格式：npy。</p>
<ul>
<li>npy 文件用于存储重建 ndarray 所需的数据、图形、dtype 和其他信息。</li>
</ul>
</li>
<li><p><code>numpy.save(file, arr, allow_pickle=True, fix_imports=True)</code></p>
<ul>
<li>将数组以未压缩的原始二进制格式保存在扩展名为 .npy 的文件中。</li>
<li>参数file，要保存的文件，扩展名为 .npy，如果文件路径末尾没有扩展名 .npy，扩展名会被自动加上。</li>
<li>参数arr:，要保存的数组。</li>
<li>参数allow_pickle， 可选，布尔值，允许使用 Python pickles 保存对象数组，Python 中的 pickle 用于在保存到磁盘文件或从磁盘文件读取前，对对象进行序列化和反序列化。</li>
<li>参数fix_imports:，可选，为了方便 Pyhton2 中读取 Python3 保存的数据。</li>
</ul>
</li>
<li><p><code>numpy.load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,encoding=&#39;ASCII&#39;)</code>：加载npy文件</p>
<ul>
<li>file参数，文件名。</li>
</ul>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.arange(<span class="number">0</span>, <span class="number">12</span>).reshape([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">    numpy.save(<span class="string">&quot;outfile.npy&quot;</span>, a)</span><br><span class="line"> </span><br><span class="line">    b = numpy.load(<span class="string">&quot;outfile.npy&quot;</span>)</span><br><span class="line">    print(b)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment">#  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment">#  [ 8  9 10 11]]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>numpy.savez(file, *args, **kwds)</code>：将多个数组以未压缩的原始二进制格式保存在扩展名为 .npz 的文件中。</p>
<ul>
<li><p>参数file，要保存的文件，扩展名为 .npz，如果文件路径末尾没有扩展名 .npz，扩展名会被自动加上。</p>
</li>
<li><p>参数args，要保存的数组，可以使用关键字参数为数组起一个名字，非关键字参数传递的数组会自动起名为 arr_0, arr_1。</p>
</li>
<li><p>参数kwds:，要保存的数组使用关键字名称。</p>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = numpy.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">    b = numpy.arange(<span class="number">0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>)</span><br><span class="line">    c = numpy.sin(b)</span><br><span class="line">    <span class="comment"># c 使用了关键字参数 sin_array</span></span><br><span class="line">    numpy.savez(<span class="string">&quot;outfile.npz&quot;</span>, a, b, sin_array=c)</span><br><span class="line">    r = numpy.load(<span class="string">&quot;outfile.npz&quot;</span>)</span><br><span class="line">    print(r.files)  <span class="comment"># 查看各个数组名称</span></span><br><span class="line">    print(r[<span class="string">&quot;arr_0&quot;</span>])</span><br><span class="line">    print(r[<span class="string">&quot;arr_1&quot;</span>])</span><br><span class="line">    print(r[<span class="string">&quot;sin_array&quot;</span>])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [&#x27;sin_array&#x27;, &#x27;arr_0&#x27;, &#x27;arr_1&#x27;]</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]]</span></span><br><span class="line"><span class="comment"># [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]</span></span><br><span class="line"><span class="comment"># [0.         0.09983342 0.19866933 0.29552021 0.38941834 0.47942554</span></span><br><span class="line"><span class="comment">#  0.56464247 0.64421769 0.71735609 0.78332691]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>numpy.loadtxt(file, dtype=int, delimiter=&#39; &#39;)</code>：以简单的文本文件格式读取数据。</p>
<ul>
<li>参数file为要加载的文件名</li>
<li>参数dtype为数据类型</li>
<li>参数 delimiter 可以指定各种分隔符、针对特定列的转换器函数、需要跳过的行数等。</li>
</ul>
</li>
<li><p><code>numpy.savetxt(file, a, fmt=&quot;%d&quot;, delimiter=&quot;,&quot;)</code>：以简单的文本文件格式存储数据。</p>
<ul>
<li>参数file为要加载的文件名</li>
<li>参数a为要保存的数组</li>
<li>参数fmt为格式化字符串</li>
<li>参数 delimiter 可以指定各种分隔符、针对特定列的转换器函数、需要跳过的行数等。</li>
</ul>
</li>
<li><p>案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    b = numpy.arange(<span class="number">0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>)</span><br><span class="line">    c = numpy.sin(b)</span><br><span class="line">    numpy.savetxt(<span class="string">&quot;outfile.txt&quot;</span>, (b, c))</span><br><span class="line">    r = numpy.loadtxt(<span class="string">&quot;outfile.txt&quot;</span>)</span><br><span class="line">    print(r)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># [[0.         0.1        0.2        0.3        0.4        0.5</span></span><br><span class="line"><span class="comment">#   0.6        0.7        0.8        0.9       ]</span></span><br><span class="line"><span class="comment">#  [0.         0.09983342 0.19866933 0.29552021 0.38941834 0.47942554</span></span><br><span class="line"><span class="comment">#   0.56464247 0.64421769 0.71735609 0.78332691]]</span></span><br></pre></td></tr></table></figure>

</li>
</ol>

  
  
    
    <div class='footer'>
      
      
      
        <div class='copyright'>
          <blockquote>
            
              
                <p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p>

              
            
              
                <p>本文永久链接是：<a href=https://ozzienicholas.gitee.io/653ef868179f/>https://ozzienicholas.gitee.io/653ef868179f/</a></p>
              
            
          </blockquote>
        </div>
      
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-06-04T00:16:10+08:00">
  <a class='notlink'>
    <i class="fas fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：Jun 4, 2021</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Python/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Python</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://ozzienicholas.gitee.io/653ef868179f/&title=NumPy（超详细） - Ozzie | Nicholas&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://ozzienicholas.gitee.io/653ef868179f/&title=NumPy（超详细） - Ozzie | Nicholas&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=https://ozzienicholas.gitee.io/653ef868179f/&title=NumPy（超详细） - Ozzie | Nicholas&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
    
      
    
  </div>
</div>



        
      
    </div>
  </div>


  
  

  
    <div class="prev-next">
      
        <a class='prev' href='/1852e70c31f8/'>
          <p class='title'><i class="fas fa-chevron-left" aria-hidden="true"></i>Matplotlib（上篇）</p>
          <p class='content'>为什么使用 Matplotlib
Matplotlib 是一个非常强大的 Python 画图工具，可以帮助我们以直观的形式更好地了解数据。通过它，你可以画出线图、散点图、等高线图。
条形图、柱状...</p>
        </a>
      
      
        <a class='next' href='/510c5b795b01/'>
          <p class='title'>Python迭代器与生成器<i class="fas fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>前言迭代是Python中常用且非常强大的一个功能，它可以用于访问集合、列表、字符串、字典等数据结构的元素。我们经常使用循环和条件语句，我们也清楚哪些是可以迭代访问，但是具体它们之间有什么有什么异...</p>
        </a>
      
    </div>
  
</article>


  

  <article class="post white-box reveal shadow" id="comments">
    <p ct><i class='fas fa-comments'></i> 评论</p>
    
    <div id="valine_container" class="valine_thread">
  <i class="fas fa-cog fa-spin fa-fw fa-2x"></i>
</div>

  </article>






</div>
<aside class='l_side'>
  
  
    
    



  <section class="widget toc-wrapper shadow desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fas fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-%E5%88%9D%E8%AF%86"><span class="toc-text">NumPy 初识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NumPy-%E7%AE%80%E4%BB%8B"><span class="toc-text">NumPy 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NumPy%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-text">NumPy的优缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NumPy-%E5%AE%89%E8%A3%85"><span class="toc-text">NumPy 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NumPy-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">NumPy 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dtype-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AF%B9%E8%B1%A1"><span class="toc-text">dtype 数据类型对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ndarray"><span class="toc-text">ndarray</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ndarray%E7%AE%80%E4%BB%8B"><span class="toc-text">ndarray简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ndarray-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">ndarray 对象的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-text">创建数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ndarray-%E7%B4%A2%E5%BC%95"><span class="toc-text">ndarray 索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E4%BF%AE%E6%94%B9"><span class="toc-text">数组修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%BF%AD%E4%BB%A3"><span class="toc-text">数组迭代</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E6%95%B0%E7%BB%84%E7%AE%80%E4%BB%8B"><span class="toc-text">迭代数组简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E9%A1%BA%E5%BA%8F%E6%8E%A7%E5%88%B6"><span class="toc-text">遍历顺序控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%80%BC"><span class="toc-text">遍历修改数组元素值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%BE%AA%E7%8E%AF"><span class="toc-text">外部循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E8%BF%AD%E4%BB%A3"><span class="toc-text">广播迭代</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy"><span class="toc-text">NumPy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97"><span class="toc-text">条件运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="toc-text">统计函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97"><span class="toc-text">算术运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD"><span class="toc-text">广播</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97"><span class="toc-text">矩阵运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-text">位运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86"><span class="toc-text">字符串处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="toc-text">数学函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E8%BF%87%E6%BB%A4"><span class="toc-text">排序过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E4%BA%A4%E6%8D%A2"><span class="toc-text">字节交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%AF%E6%9C%AC%E5%92%8C%E8%A7%86%E5%9B%BE"><span class="toc-text">副本和视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-matlib-%E7%9F%A9%E9%98%B5%E6%A8%A1%E5%9D%97"><span class="toc-text">NumPy.matlib 矩阵模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#matlib-%E6%A8%A1%E5%9D%97%E7%AE%80%E4%BB%8B"><span class="toc-text">matlib 模块简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E5%88%9B%E5%BB%BA"><span class="toc-text">矩阵创建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-linalg-%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E6%A8%A1%E5%9D%97"><span class="toc-text">NumPy.linalg 线性代数模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linalg-%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E6%A8%A1%E5%9D%97"><span class="toc-text">linalg 线性代数模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">线性代数运算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NumPy-IO%E6%93%8D%E4%BD%9C"><span class="toc-text">NumPy IO操作</span></a></li></ol>
    </div>
  </section>


  


</aside>



		  
		  <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.postTitle="NumPy（超详细）";
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  // header 这里无论是否开启pjax都需要
  var l_header=document.getElementById("l_header");
  
  l_header.classList.remove("show");
  
  
    // cover
    var cover_wrapper=document.querySelector('.cover-wrapper');
    
    cover_wrapper.id="half";
    cover_wrapper.style.display="";
    
  
</script>

        </div>
        
  
  <footer class="footer clearfix">
    <br><br>
    
      
        <br>
        <div class="social-wrapper">
          
            
          
            
          
            
          
        </div>
      
    
      
        <div><p>Blog content follows the <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
      
    
      
        Use
        <a href="https://github.com/volantis-x/hexo-theme-volantis/tree/4.3.1" target="_blank" class="codename">Volantis</a>
        as theme
      
    
      
        <div class='copyright'>
        <p><a href="/">Copyright © 2019~2022 OzzieNicholas All Rights Reserved 蜀ICP备19036020号</a></p>

        </div>
      
    
  </footer>


        <a id="s-top" class="fas fa-arrow-up fa-fw" href="javascript:void(0)"></a>
      </div>
    </div>
    <div>
      <script>
/************这个文件存放不需要重载的全局变量和全局函数*********/
window.volantis={};
window.volantis.loadcss=document.getElementById("loadcss");
/******************** Pjax ********************************/
function VPjax(){
	this.list=[] // 存放回调函数
	this.start=()=>{
	  for(var i=0;i<this.list.length;i++){
		this.list[i].run();
	  }
	}
	this.push=(fn,name)=>{
		var f=new PjaxItem(fn,name);
		this.list.push(f);
	}
	// 构造一个可以run的对象
	function PjaxItem(fn,name){
		// 函数名称
		this.name = name || fn.name
		// run方法
		this.run=()=>{
			fn()
		}
	}
}
volantis.pjax={}
volantis.pjax.method={
	complete: new VPjax(),
	error: new VPjax(),
	send: new VPjax()
}
volantis.pjax={
	...volantis.pjax,
	push: volantis.pjax.method.complete.push,
	error: volantis.pjax.method.error.push,
	send: volantis.pjax.method.send.push
}
/********************脚本懒加载函数********************************/
// 已经加入了setTimeout
function loadScript(src, cb) {
	setTimeout(function() {
		var HEAD = document.getElementsByTagName('head')[0] || document.documentElement;
		var script = document.createElement('script');
		script.setAttribute('type','text/javascript');
		if (cb) script.onload = cb;
		script.setAttribute('src', src);
		HEAD.appendChild(script);
	});
}
//https://github.com/filamentgroup/loadCSS
var loadCSS = function( href, before, media, attributes ){
	var doc = window.document;
	var ss = doc.createElement( "link" );
	var ref;
	if( before ){
		ref = before;
	}
	else {
		var refs = ( doc.body || doc.getElementsByTagName( "head" )[ 0 ] ).childNodes;
		ref = refs[ refs.length - 1];
	}
	var sheets = doc.styleSheets;
	if( attributes ){
		for( var attributeName in attributes ){
			if( attributes.hasOwnProperty( attributeName ) ){
				ss.setAttribute( attributeName, attributes[attributeName] );
			}
		}
	}
	ss.rel = "stylesheet";
	ss.href = href;
	ss.media = "only x";
	function ready( cb ){
		if( doc.body ){
			return cb();
		}
		setTimeout(function(){
			ready( cb );
		});
	}
	ready( function(){
		ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
	});
	var onloadcssdefined = function( cb ){
		var resolvedHref = ss.href;
		var i = sheets.length;
		while( i-- ){
			if( sheets[ i ].href === resolvedHref ){
				return cb();
			}
		}
		setTimeout(function() {
			onloadcssdefined( cb );
		});
	};
	function loadCB(){
		if( ss.addEventListener ){
			ss.removeEventListener( "load", loadCB );
		}
		ss.media = media || "all";
	}
	if( ss.addEventListener ){
		ss.addEventListener( "load", loadCB);
	}
	ss.onloadcssdefined = onloadcssdefined;
	onloadcssdefined( loadCB );
	return ss;
};
</script>
<script>
  
  loadCSS("https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/css/all.min.css", window.volantis.loadcss);
  
  
  
  
</script>
<!-- required -->

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script>

<script>
  function pjax_fancybox() {
    $(".md .gallery").find("img").each(function () { //渲染 fancybox
      var element = document.createElement("a"); // a 标签
      $(element).attr("class", "fancybox");
      $(element).attr("pjax-fancybox", "");  // 过滤 pjax
      $(element).attr("href", $(this).attr("src"));
      if ($(this).attr("data-original")) {
        $(element).attr("href", $(this).attr("data-original"));
      }
      $(element).attr("data-fancybox", "images");
      var caption = "";   // 描述信息
      if ($(this).attr('alt')) {  // 判断当前页面是否存在描述信息
        $(element).attr('data-caption', $(this).attr('alt'));
        caption = $(this).attr('alt');
      }
      var div = document.createElement("div");
      $(div).addClass("fancybox");
      $(this).wrap(div); // 最外层套 div ，其实主要作用还是 class 样式
      var span = document.createElement("span");
      $(span).addClass("image-caption");
      $(span).text(caption); // 加描述
      $(this).after(span);  // 再套一层描述
      $(this).wrap(element);  // 最后套 a 标签
    })
    $(".md .gallery").find("img").fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
      closeClick: true,
      helpers: {
        overlay: {closeClick: true}
      },
      buttons: [
        "zoom",
        "close"
      ]
    });
  };
  function SCload_fancybox() {
    if ($(".md .gallery").find("img").length == 0) return;
    loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css", document.getElementById("loadcss"));
    loadScript('https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js', pjax_fancybox)
  };
  $(function () {
    SCload_fancybox();
  });
  function Pjax_SCload_fancybox(){
	if (typeof $.fancybox == "undefined") {
	 SCload_fancybox();
    } else {
	 pjax_fancybox();
    }
  }
  volantis.pjax.push(Pjax_SCload_fancybox)
  volantis.pjax.send(()=>{
      if (typeof $.fancybox != "undefined") {
        $.fancybox.close();    // 关闭弹窗
      }
  },'fancybox')
</script>


<!-- internal -->

  
  
  
    
<script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script>

    <script type="text/javascript">
        var imgs=["https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/001.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/002.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/004.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/005.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/006.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/012.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/016.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/019.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/034.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/035.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/038.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/039.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/046.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/051.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/052.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/054.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/056.jpg"];
        if ('true' == 'true') {
          function shuffle(arr){
            /*From countercurrent-time*/
            var n = arr.length;
            while(n--) {
              var index = Math.floor(Math.random() * n);
              var temp = arr[index];
              arr[index] = arr[n];
              arr[n] = temp;
            }
          }
          shuffle(imgs);
        }
	  function Pjax_backstretch(){
        
          $('#cover-backstretch').backstretch(
            imgs,
          {
            duration: "10000",
            fade: "1500"
          });
        
	  }
	  loadScript("https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js",Pjax_backstretch)
    </script>
  



  
  

  <div id="rightmenu-wrapper">
    <ul class="list-v rightmenu" id="rightmenu-content">
      <li class='option'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-text' onclick="document.execCommand('copy')"><i class='fa fa-copy fa-fw'></i>Copy Text</a>
        <hr id='hr-text'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-href'><i class='fa fa-link fa-fw'></i>Copy Link</a>
        <a class='vlts-menu opt fix-cursor-default' id='menu-open-href'><i class='fa fa-external-link-square-alt fa-fw'></i>Open Link in New Tab</a>
        <hr id='hr-href'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-src'><i class='fa fa-image fa-fw'></i>Copy Image Link</a>
        <hr id='hr-src'>
      </li>
      
        <li class='navigation'>
          <a class='nav icon-only fix-cursor-default' onclick='history.back()'><i class='fa fa-arrow-left fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='history.forward()'><i class='fa fa-arrow-right fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='window.location.reload()'><i class='fa fa-redo fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' href='/'><i class='fa fa-home fa-fw'></i></a>
        </li>
      
      <hr>
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default toggle-mode-btn' 
        
        
        
        >
        <i class='fas fa-moon fa-fw'></i> 天满纤月
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=https://volantis.js.org/faqs/
        
        
        
        
          id="https:volantisjsorgfaqs"
        >
        <i class='fa fa-question fa-fw'></i> 常夜孤月
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' 
        
        
        
          onclick="document.execCommand('print')"
        
        >
        <i class='fa fa-print fa-fw'></i> 厄镜月映
      </a>
    </li>
  
        
      
    </ul>
  </div>

  <script>
    window.document.oncontextmenu = function (event) {
      if (event.ctrlKey) return true;
      if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true;
      return popMenu(event);
    };
    document.addEventListener("click", function (event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      mymenu.style.display = "none";
    });
    function popMenu(event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      var menuContent = document.getElementById('rightmenu-content');
      var screenWidth = document.documentElement.clientWidth || document.body.clientWidth;
      var screenHeight = document.documentElement.clientHeight || document.body.clientHeight;
      mymenu.style.left = event.clientX + "px"; // 获取鼠标位置
      mymenu.style.top = event.clientY + "px";
      mymenu.style.display = 'block';
      if (event.clientX * 2 > screenWidth) {
        menuContent.classList.add('left');
      } else {
        menuContent.classList.remove('left');
      }
      if (event.clientY * 2 > screenHeight) {
        menuContent.classList.add('top');
      } else {
        menuContent.classList.remove('top');
      }

      let hrText = document.getElementById('hr-text');
      let hrSrc = document.getElementById('hr-src');
      let hrHref = document.getElementById('hr-href');

      // 选中图片
      let copySrc = document.getElementById('menu-copy-src');
      if (copySrc != undefined) {
        if (event.target.currentSrc) {
          copySrc.style.display = 'block';
          copySrc.addEventListener("click", function (e) {
            copyString(event.target.currentSrc);
          },{once: true});
          hrSrc.style.display = 'block';
        } else {
          copySrc.style.display = 'none';
          hrSrc.style.display = 'none';
        }
      }

      // 选中按钮
      // 判断是不是按钮
      let href = '';
      if (event.path) {
        for (i = 0; i < event.path.length; i++) {
          if (event.path[i].href != undefined && event.path[i].href.length > 0) {
            href = event.path[i].href;
          }
        }
      }

      let copyText = document.getElementById('menu-copy-text');
      copyText.style.display = 'none';
      hrText.style.display = 'none';
      if (href.length == 0) {
        // 选中文本
        if (window.getSelection().toString()) {
          if ('' == 'true') {
            copyText.style.display = 'block';
            hrText.style.display = 'block';
          }
        }
      }

      // 在新标签页打开
      let openHref = document.getElementById('menu-open-href');
      if (openHref != undefined) {
        if (href.length > 0) {
          openHref.style.display = 'block';
          openHref.addEventListener("click", function (e) {
            window.open(href);
          },{once: true});
          hrHref.style.display = 'block';
        } else {
          openHref.style.display = 'none';
          hrHref.style.display = 'none';
        }
      }
      // 复制链接
      let copyHref = document.getElementById('menu-copy-href');
      if (copyHref != undefined) {
        if (href.length > 0) {
          copyHref.style.display = 'block';
          copyHref.addEventListener("click", function (e) {
            copyString(href);
          },{once: true});
        } else {
          copyHref.style.display = 'none';
        }
      }
      // 有音乐播放器 see: layout/_third-party/aplayer/script.ejs
      
      return false; // 该行代码确保系统自带的右键菜单不会被调出
    }
    function hideMenu() {
      document.getElementById('rightmenu-wrapper').style.display = 'none';
    }
    function copyString(str) {
      const input = document.createElement('input');
      input.setAttribute('readonly', 'readonly');
      document.body.appendChild(input);
      input.setAttribute('value', str);
      input.select();
      document.execCommand('copy');
      document.body.removeChild(input);
    }
    document.execCommand('click');
  </script>




<script>
  function loadIssuesJS() {
    if ($(".md").find(".issues-api").length == 0) return;
	
	  loadScript('/js/issues.js');
	
  };
  $(function () {
    loadIssuesJS();
  });
  volantis.pjax.push(()=>{
	if (typeof IssuesAPI == "undefined") {
	  loadIssuesJS();
	}
  },"IssuesJS")
</script>



  <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script>
  window.FPConfig = {
	delay: 0,
	ignoreKeywords: [],
	maxRPS: 5,
	hoverDelay: 25
  };
</script>
<script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script>











  
  
<script src="/js/valine.js"></script>


<script>
  function emoji(path, idx, ext) {
    return path + "/" + path + "-" + idx + "." + ext;
  }
  var emojiMaps = {};
  for (var i = 1; i <= 54; i++) {
    emojiMaps['tieba-' + i] = emoji('tieba', i, 'png');
  }
  for (var i = 1; i <= 101; i++) {
    emojiMaps['qq-' + i] = emoji('qq', i, 'gif');
  }
  for (var i = 1; i <= 116; i++) {
    emojiMaps['aru-' + i] = emoji('aru', i, 'gif');
  }
  for (var i = 1; i <= 125; i++) {
    emojiMaps['twemoji-' + i] = emoji('twemoji', i, 'png');
  }
  for (var i = 1; i <= 4; i++) {
    emojiMaps['weibo-' + i] = emoji('weibo', i, 'png');
  }
  function pjax_valine() {
    if(!document.querySelectorAll("#valine_container")[0])return;
    let pagePlaceholder = pdata.commentPlaceholder || "快来评论吧~";
    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || decodeURI(window.location.pathname);
    }
    var valine = new Valine();
    valine.init(Object.assign({"path":null,"placeholder":"快来评论吧~","appId":null,"appKey":null,"meta":["nick","mail","link"],"requiredFields":["nick","mail"],"enableQQ":true,"recordIP":false,"avatar":"robohash","pageSize":10,"lang":"zh-cn","highlight":true,"mathJax":false}, {
      el: '#valine_container',
      path: path,
      placeholder: pagePlaceholder,
      emojiCDN: 'https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/valine/',
      emojiMaps: emojiMaps,
    }))
  }
  $(function () {
    pjax_valine();
  });
  volantis.pjax.push(pjax_valine);
</script>






  
<script src="/js/app.js"></script>



<!-- optional -->

  <script>
const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/" || "/").endsWith('/') ? ("/" || "/") : ("//" || "/" );

$('.input.u-search-input').one('focus',function(){
	
		loadScript('https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2.6.4/js/search.js',setSearchService);
	
})

function listenSearch(){
  
    customSearch = new HexoSearch({
      imagePath: SearchServiceimagePath
    });
  
}
function setSearchService() {
	listenSearch();
	
}
</script>











  <script defer>

  const LCCounter = {
    app_id: 'u9j57bwJod4EDmXWdxrwuqQT-MdYXbMMI',
    app_key: 'jfHtEKVE24j0IVCGHbvuFClp',
    custom_api_server: '',

    // 查询存储的记录
    getRecord(Counter, url, title) {
      return new Promise(function (resolve, reject) {
        Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({url})))
          .then(resp => resp.json())
          .then(({results, code, error}) => {
            if (code === 401) {
              throw error;
            }
            if (results && results.length > 0) {
              var record = results[0];
              resolve(record);
            } else {
              Counter('post', '/classes/Counter', {url, title: title, times: 0})
                .then(resp => resp.json())
                .then((record, error) => {
                  if (error) {
                    throw error;
                  }
                  resolve(record);
                }).catch(error => {
                console.error('Failed to create', error);
                reject(error);
              });
            }
          }).catch((error) => {
          console.error('LeanCloud Counter Error:', error);
          reject(error);
        });
      })
    },

    // 发起自增请求
    increment(Counter, incrArr) {
      return new Promise(function (resolve, reject) {
        Counter('post', '/batch', {
          "requests": incrArr
        }).then((res) => {
          res = res.json();
          if (res.error) {
            throw res.error;
          }
          resolve(res);
        }).catch((error) => {
          console.error('Failed to save visitor count', error);
          reject(error);
        });
      });
    },

    // 构建自增请求体
    buildIncrement(objectId) {
      return {
        "method": "PUT",
        "path": `/1.1/classes/Counter/${ objectId }`,
        "body": {
          "times": {
            '__op': 'Increment',
            'amount': 1
          }
        }
      }
    },

    // 校验是否为有效的 UV
    validUV() {
      var key = 'LeanCloudUVTimestamp';
      var flag = localStorage.getItem(key);
      if (flag) {
        // 距离标记小于 24 小时则不计为 UV
        if (new Date().getTime() - parseInt(flag) <= 86400000) {
          return false;
        }
      }
      localStorage.setItem(key, new Date().getTime().toString());
      return true;
    },

    addCount(Counter) {
      var enableIncr = '' === 'true' && window.location.hostname !== 'localhost';
      enableIncr = true;
      var getterArr = [];
      var incrArr = [];
      // 请求 PV 并自增
      var pvCtn = document.querySelector('#lc-sv');
      if (pvCtn || enableIncr) {
        var pvGetter = this.getRecord(Counter, 'https://ozzienicholas.gitee.io' + '/#lc-sv', 'Visits').then((record) => {
          incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-sv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + 1;
              if (pvCtn) {
                pvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(pvGetter);
      }

      // 请求 UV 并自增
      var uvCtn = document.querySelector('#lc-uv');
      if (uvCtn || enableIncr) {
        var uvGetter = this.getRecord(Counter, 'https://ozzienicholas.gitee.io' + '/#lc-uv', 'Visitors').then((record) => {
          var vuv = this.validUV();
          vuv && incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-uv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + (vuv ? 1 : 0);
              if (uvCtn) {
                uvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(uvGetter);
      }

      // 请求文章的浏览数，如果是当前页面就自增
      var allPV = document.querySelectorAll('#lc-pv');
      if (allPV.length > 0 || enableIncr) {
        for (i = 0; i < allPV.length; i++) {
          let pv = allPV[i];
          let title = pv.getAttribute('data-title');
          var url = 'https://ozzienicholas.gitee.io' + pv.getAttribute('data-path');
          if (url) {
            var viewGetter = this.getRecord(Counter, url, title).then((record) => {
              // 是当前页面就自增
              let curPath = window.location.pathname;
              if (curPath.includes('index.html')) {
                curPath = curPath.substring(0, curPath.lastIndexOf('index.html'));
              }
              if (pv.getAttribute('data-path') == curPath) {
                incrArr.push(this.buildIncrement(record.objectId));
              }
              if (pv) {
                var ele = pv.querySelector('#lc-pv #number');
                if (ele) {
                  if (pv.getAttribute('data-path') == curPath) {
                    ele.innerText = (record.times || 0) + 1;
                  } else {
                    ele.innerText = record.times || 0;
                  }
                  pv.style.display = 'inline';
                }
              }
            });
            getterArr.push(viewGetter);
          }
        }
      }

      // 如果启动计数自增，批量发起自增请求
      if (enableIncr) {
        Promise.all(getterArr).then(() => {
          incrArr.length > 0 && this.increment(Counter, incrArr);
        })
      }

    },


    fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${ api_server }/1.1${ url }`, {
          method,
          headers: {
            'X-LC-Id': this.app_id,
            'X-LC-Key': this.app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      this.addCount(Counter);
    },

    refreshCounter() {
      var api_server = this.app_id.slice(-9) !== '-MdYXbMMI' ? this.custom_api_server : `https://${ this.app_id.slice(0, 8).toLowerCase() }.api.lncldglobal.com`;
      if (api_server) {
        this.fetchData(api_server);
      } else {
        fetch('https://app-router.leancloud.cn/2/route?appId=' + this.app_id)
          .then(resp => resp.json())
          .then(({api_server}) => {
            this.fetchData('https://' + api_server);
          });
      }
    }

  };

  LCCounter.refreshCounter();

  document.addEventListener('pjax:complete', function () {
    LCCounter.refreshCounter();
  });
</script>




  <script>
const rootElement = document.documentElement;
const darkModeStorageKey = "user-color-scheme";
const rootElementDarkModeAttributeName = "data-user-color-scheme";

const setLS = (k, v) => {
    localStorage.setItem(k, v);
};

const removeLS = (k) => {
    localStorage.removeItem(k);
};

const getLS = (k) => {
    return localStorage.getItem(k);
};

const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};

const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};

const validColorModeKeys = {
  dark: true,
  light: true,
};

const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);

  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};

const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};

/**
 * get target mode
 */
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);

  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};

/**
 * bind click event for toggle button
 */
var btn=$("#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn");
function bindToggleButton() {
    btn.on('click',(e) => {
      const mode = toggleCustomDarkMode();
      applyCustomDarkModeSettings(mode);
    });
}

applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", bindToggleButton);
volantis.pjax.push(bindToggleButton);
volantis.pjax.send(()=>{
	btn.unbind('click');
},'toggle-mode-btn-unbind');
</script>








<script>
function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);
</script>

<!-- more -->

 
	   
	    


<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      window.subData = null; // 移除标题（用于一二级导航栏切换处）

      volantis.$switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$wrapper.removeClass('sub'); // 跳转页面时关闭二级导航

      // 解绑事件 避免重复监听
      volantis.$topBtn.unbind('click');
      $('.menu a').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
	  // 使用 volantis.pjax.send 方法传入pjax:send回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      try{
		// 使用 volantis.pjax.push 方法传入重载函数 参见layout/_partial/scripts/global.ejs
		volantis.pjax.method.complete.start();
      } catch (e) {
        console.log(e);
      }
    });

    document.addEventListener('pjax:error', function (e) {
	  // 使用 volantis.pjax.error 方法传入pjax:error回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.error.start();
      window.location.href = e.triggerElement.href;
    });
</script>
 
	  
    </div>
  </body>
</html>
